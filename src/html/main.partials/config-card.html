<section class="card" id="configCard">
	<div class="card-hd d-flex justify-content-between align-items-center">
		<h2 class="mb-0">
			<i class="bi bi-gear me-2"></i>
			Plugin Configuration
		</h2>
		<div class="btn-group" role="group" style="visibility: hidden">
			<button
				class="copy-btn-icon"
				id="copyConfigBtn"
				title="Copy Configuration to Clipboard"
				aria-label="Copy configuration"
				data-bs-toggle="tooltip"
				disabled
			>
				<i class="bi bi-clipboard"></i>
			</button>
		</div>
	</div>

	<div class="card-bd">
		<!-- API Endpoint -->
		<label class="form-label">API Endpoint</label>
		<div class="position-relative mb-2">
			<input
				type="text"
				class="form-control pe-5"
				id="urlPreview"
				placeholder="API Endpoint"
				value="https://pay.sandbox.travelpay.com.au/online/v5"
				readonly
			/>
			<button
				class="btn btn-link position-absolute end-0 top-50 translate-middle-y text-secondary"
				type="button"
				id="urlBuilderBtn"
				title="Configure API endpoint"
			>
				<i class="bi bi-gear-fill"></i>
			</button>
		</div>

		<!-- Row: Display Mode (50%) | Payment Mode (50%) -->
		<div class="row mb-2">
			<!-- Display Mode (Left 50%) -->
			<div class="col-md-6">
				<label class="form-label">Display Mode</label>
				<div style="position: relative">
					<!-- Modern Dropdown Trigger Button -->
					<button
						type="button"
						class="form-control text-start d-flex justify-content-between align-items-center"
						id="displayModeButton"
						style="background: var(--card); border: 1px solid var(--muted); cursor: pointer"
					>
						<span data-dropdown-text>Standard Modal (jQuery)</span>
						<i class="bi bi-chevron-down"></i>
					</button>

					<!-- Hidden radio inputs for form submission -->
					<input
						type="radio"
						name="displayMode"
						id="selectDisplayModeModal"
						value="0"
						checked
						style="display: none"
					/>
					<input
						type="radio"
						name="displayMode"
						id="selectDisplayModeRedirect"
						value="1"
						style="display: none"
					/>

					<!-- Core Dropdown Container -->
					<div id="displayModeDropdown"></div>
				</div>
			</div>

			<!-- Payment Mode (Right 50%) -->
			<div class="col-md-6">
				<label class="form-label">Payment Mode</label>
				<div style="position: relative">
					<!-- Modern Dropdown Trigger Button -->
					<button
						type="button"
						class="form-control text-start d-flex justify-content-between align-items-center"
						id="paymentModeButton"
						style="background: var(--card); border: 1px solid var(--muted); cursor: pointer"
					>
						<span data-dropdown-text>Make Payment</span>
						<i class="bi bi-chevron-down"></i>
					</button>

					<!-- Hidden select for backward compatibility -->
					<select id="modeSelect" style="display: none">
						<option value="0" selected>0 - Make Payment (Process immediate payment)</option>
						<option value="1">1 - Tokenise (Save card details for future use)</option>
						<option value="2">2 - Custom Payment (Make payment with custom parameters)</option>
						<option value="3">3 - Preauthorization (Reserve funds, capture later)</option>
					</select>

					<!-- Core Dropdown Container -->
					<div id="paymentModeDropdown"></div>
				</div>
			</div>
		</div>

		@@include('main.partials/tab.credentials.html') @@include('main.partials/end.html')
	</div>
</section>

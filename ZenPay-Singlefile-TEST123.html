<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ZenPay Payment Plugin</title>
		<!-- Bootstrap 5 CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<!-- Bootstrap Icons -->
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.12.1/font/bootstrap-icons.css"
		/>
		<!-- Highlight.js CSS -->
		<link
			id="hljs-stylesheet"
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
		/>
		<!-- Google Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&display=swap"
			rel="stylesheet"
		/>
		<!-- ZenPay CSS -->
		<link href="https://cdnuat.travelpay.com.au/css/zenpay.payment.css" rel="stylesheet" />
	
<style>
:root{--bg-start:#000;--bg-middle:#000;--bg-end:#064e3b;--bg:#1a1a1a;--card:hsla(0,0%,100%,.05);--card-2:hsla(0,0%,100%,.03);--text:#f0f0f0;--muted:#a0a0a0;--primary:#10b981;--accent:#34d399;--danger:#ef4444;--warning:#fbbf24;--radius:12px;--radius-lg:10px;--radius-md:8px;--radius-sm:6px;--radius-xs:4px;--ring:0 0 0 3px rgba(16,185,129,.25);--shadow:0 10px 30px rgba(0,0,0,.5);--shadow-sm:0 6px 18px rgba(0,0,0,.35);--shadow-xs:0 2px 4px rgba(0,0,0,.1);--shadow-md:0 4px 8px rgba(0,0,0,.15);--border-subtle:1px solid hsla(0,0%,100%,.08);--border-faint:1px solid hsla(0,0%,100%,.05);--bg-overlay:hsla(0,0%,100%,.05);--mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--sans:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}[data-bs-theme=light],[data-theme=light]{--bg-start:#fff;--bg-middle:#f0f9ff;--bg-end:#dbeafe;--bg:#fff;--card:rgba(15,23,42,.04);--card-2:rgba(15,23,42,.03);--text:#0f172a;--muted:#64748b;--primary:#3b82f6;--accent:#60a5fa;--danger:#ef4444;--warning:#f59e0b;--ring:0 0 0 3px rgba(59,130,246,.25);--shadow:0 12px 30px rgba(15,23,42,.08);--shadow-sm:0 6px 18px rgba(15,23,42,.05);--shadow-xs:0 1px 3px rgba(0,0,0,.1);--shadow-md:0 2px 4px rgba(0,0,0,.1);--border-subtle:1px solid hsla(0,0%,100%,.08);--border-faint:1px solid hsla(0,0%,100%,.05);--bg-overlay:hsla(0,0%,100%,.05)}*{box-sizing:border-box;font-family:var(--sans)}body,html{height:100%}body{background:linear-gradient(135deg,var(--bg-start),var(--bg-middle),var(--bg-end));background-attachment:fixed;color:var(--text);font-family:var(--sans);margin:0;min-height:100vh;overflow:hidden;padding:60px 0}.wrap{bottom:10vh;display:flex;flex-direction:column;left:50%;max-width:none;min-height:80vh;overflow:auto;padding:0 20px;position:absolute;top:10vh;transform:translate(-50%);width:90%}.grid{align-items:stretch;display:grid;flex:1 1 auto;gap:16px;grid-template-columns:2.33fr 1fr;min-height:0}#configCard{max-width:100%;min-width:0;width:auto!important}.settings-row>.col-md-6>.row{margin-left:0;margin-right:0}.settings-row>.col-md-6>.row>.col-md-6{padding-left:0;padding-right:0}@media (max-width:1200px){.grid{gap:12px;grid-template-columns:1fr}}@media (max-width:768px){.grid{gap:8px}.wrap{padding:0 10px;width:95%}}.grid>*{min-height:0;overflow:auto}.grid>::-webkit-scrollbar{height:8px;width:8px}.grid>::-webkit-scrollbar-track{background:var(--bg-overlay);border-radius:var(--radius-xs)}.grid>::-webkit-scrollbar-thumb{background:#ffffff26;border-radius:var(--radius-xs);-webkit-transition:background .2s ease;transition:background .2s ease}.grid>::-webkit-scrollbar-thumb:hover{background:#ffffff40}.grid>::-webkit-scrollbar-corner{background:var(--bg-overlay)}.grid>*{scrollbar-color:hsla(0,0%,100%,.15) var(--bg-overlay);scrollbar-width:thin}.btn-disabled{cursor:not-allowed!important;opacity:.6!important}.btn-disabled,.btn-disabled:hover{background-color:#6c757d!important;border-color:#6c757d!important;color:#fff!important}.btn-disabled-icon,.btn-disabled-icon:hover{cursor:not-allowed!important;opacity:.6!important}.footer-col{align-items:center;display:flex;justify-content:center}.footer-left{justify-content:flex-start}.footer-center{justify-content:center}.footer-right{justify-content:flex-end}@keyframes pulse-heart{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}.pulse-heart{animation:pulse-heart .5s ease-in-out infinite;display:inline-block}.input-group{margin-bottom:.2rem;margin-top:.2rem}@media (min-width:1025px){.grid{grid-auto-rows:1fr}}@media (max-width:1024px){.grid{grid-template-columns:1fr}}.topbar{align-items:center;background:var(--card);border-bottom:var(--border-subtle);display:grid;grid-template-columns:1fr auto 1fr;height:60px;left:0;padding:0 24px;position:fixed;right:0;top:0;z-index:1030}.header-col{align-items:center;display:flex;height:100%;min-width:0}.header-left{justify-content:flex-start}.header-center{align-items:center;flex-direction:column;gap:4px;justify-content:center;text-align:center}.header-right{gap:8px;justify-content:flex-end}.brand{color:var(--text);font-size:1.1rem;font-weight:700;letter-spacing:.2px}.toolbar{display:flex;gap:8px}.footer,.toolbar{align-items:center}.footer{background:var(--card);border-top:var(--border-subtle);bottom:0;display:grid;font-size:.8rem;grid-template-columns:1fr auto 1fr;height:60px;left:0;padding:0 24px;position:fixed;right:0;z-index:1030}.footer>.toolbar:first-child{justify-self:start}.footer>.chip{justify-self:center}.footer nav.toolbar{justify-self:end}.footer .toolbar{align-items:center;display:flex;gap:8px}.card{background:linear-gradient(180deg,var(--card),var(--card-2));border:0;border-radius:var(--radius);box-shadow:var(--shadow);display:flex;flex-direction:column;height:100%;min-height:0}.card-hd{background:transparent;border-bottom:var(--border-faint);justify-content:space-between;padding:20px 20px 10px}.card-hd,.card-hd h2{align-items:center;display:flex}.card-hd h2{color:var(--text);font-size:13px;font-weight:500;letter-spacing:.6px;line-height:1;margin:0;opacity:.8;text-transform:uppercase}.card-bd{display:flex;flex:1 1 auto;flex-direction:column;min-height:0;padding:8px}.form-control,.form-select,input[type=email],input[type=number],input[type=tel],input[type=text],input[type=url],select,textarea{background:var(--card-2);border:var(--border-subtle);border-radius:var(--radius-md);color:var(--text);font-family:var(--sans);font-size:14px;line-height:1.4;max-width:100%;outline:none;overflow:hidden!important;padding:2px 10px;text-overflow:ellipsis;transition:all .15s ease;white-space:nowrap;width:100%}.form-control:focus,.form-select:focus,input[type=email]:focus,input[type=number]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=url]:focus,select:focus,textarea:focus{background:var(--card);border-color:var(--primary);box-shadow:var(--ring)}.form-control:hover,.form-select:hover,input:hover,select:hover,textarea:hover{border-color:#ffffff1f}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}.form-control-sm{font-size:13px;padding:6px 10px}.form-label{color:var(--muted);display:block;font-size:13px;font-weight:500;letter-spacing:.3px;margin-bottom:6px}textarea.form-control{min-height:80px;resize:vertical;white-space:normal}.row.g-2{margin-left:-4px;margin-right:-4px}.row.g-2>*{padding-left:4px;padding-right:4px}.col-md-6{min-width:0}.btn{align-items:center;background:var(--primary);border:1px solid transparent;border-radius:var(--radius-sm);box-shadow:var(--shadow-xs);color:#fff;cursor:pointer;display:inline-flex;font-size:.875rem;font-weight:500;gap:6px;justify-content:center;padding:8px 12px;transition:all .2s ease}.modal-content .btn,.modal-header .btn{all:revert!important}.btn:hover{box-shadow:var(--shadow-md);transform:translateY(-1px)}.btn-outline-secondary,.btn.secondary{background:var(--bg-overlay);border:1px solid hsla(0,0%,100%,.1);box-shadow:var(--shadow-xs);color:var(--muted)}.btn-outline-secondary:hover,.btn.secondary:hover{background:#ffffff1a;border-color:#fff3;color:var(--text)}.btn-primary{background:var(--primary);box-shadow:var(--shadow-xs);color:#fff;font-weight:500}.copy-btn-icon,.download-btn-icon{align-items:center;background:transparent;border:0;color:var(--muted);cursor:pointer;display:inline-flex;font-size:1.1rem;line-height:1;padding:4px 6px}.copy-btn-icon:hover,.download-btn-icon:hover{color:var(--text)}.payment-mode-info{background:transparent;border-color:#ffffff1f;color:var(--muted)}.badge,.chip{align-items:center;background:#ffffff0f;border:var(--border-subtle);border-radius:999px;color:var(--muted);display:inline-flex;font-size:.75rem;gap:6px;padding:6px 10px;position:relative;z-index:1040}.chip{background:var(--primary);border-radius:var(--radius-sm);box-shadow:var(--shadow-xs);color:#fff;font-size:.75rem;font-weight:500;padding:4px 10px;transition:all .2s ease}.nav-tabs{background:transparent;border-bottom:var(--border-subtle);gap:6px}.nav-tabs .nav-link{background:transparent;border:var(--border-subtle);border-radius:999px;color:var(--muted);font-size:.8rem;padding:6px 10px;position:relative;transition:all .2s ease}.nav-tabs .nav-link:hover{background:#ffffff0f;border-color:#ffffff1f;color:var(--text)}.nav-tabs .nav-link.active{background:var(--primary);border-color:transparent;color:#fff;font-weight:600}.tab-content{background:transparent;border:0!important;padding:8px 0!important}.card-bd pre{background:var(--card-2);border-radius:var(--radius-md);box-shadow:inset 0 0 0 1px var(--bg-overlay);color:var(--text);font-family:var(--mono);font-size:14px;margin:0;padding:2px}#codePreview{background:transparent;display:block;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word}.payment-method-grid{align-items:stretch;display:grid;gap:.5rem;grid-template-columns:repeat(8,1fr)}.payment-method-card{min-height:60px!important;overflow:hidden;padding:.5rem!important;position:relative;transition:transform .15s ease}.payment-method-card,.payment-method-label{border-radius:var(--radius-lg);display:flex;flex-direction:column}.payment-method-label{align-items:center;background:var(--card-2);border:var(--border-subtle);color:var(--muted);cursor:pointer;gap:.25rem!important;height:100%;justify-content:center;padding:.5rem .25rem;text-align:center;transition:all .2s ease}.payment-method-name{font-size:.75rem!important;line-height:1.1!important}.payment-method-label:hover{border-color:var(--primary);transform:translateY(-2px)}.payment-method-icon{color:var(--muted);font-size:1.2rem;transition:color .2s ease}.payment-method-name{color:var(--muted);font-size:.85rem!important;font-weight:500;line-height:1.2!important;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.payment-method-status{color:var(--primary);font-size:.8rem;opacity:0;position:absolute;right:.25rem;top:.25rem;transition:opacity .2s ease}.payment-method-toggle:checked+.payment-method-label{background:var(--primary);border-color:transparent;color:var(--text)}.payment-method-toggle:checked+.payment-method-label .payment-method-icon,.payment-method-toggle:checked+.payment-method-label .payment-method-name{color:var(--text)}.payment-method-toggle:checked+.payment-method-label .payment-method-status{opacity:1}.extended-options-fields{display:flex;flex-direction:column;gap:12px}.warning-container{margin-bottom:16px;position:relative;z-index:1040}.modal-content{background:var(--bg);border:var(--border-subtle)}.modal-header{border-bottom:var(--border-subtle)}.modal-footer{border-top:var(--border-subtle)}.hljs{background:#f8f9fa;border-radius:12px;color:#333;display:block;overflow-x:auto;padding:.5em}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}[data-bs-theme=dark] .hljs,[data-theme=dark] .hljs{background:#2b3035;color:#e6e6e6}[data-bs-theme=dark] .hljs-comment,[data-bs-theme=dark] .hljs-quote,[data-theme=dark] .hljs-comment,[data-theme=dark] .hljs-quote{color:#9e9e9e}[data-bs-theme=dark] .hljs-keyword,[data-bs-theme=dark] .hljs-selector-tag,[data-bs-theme=dark] .hljs-subst,[data-theme=dark] .hljs-keyword,[data-theme=dark] .hljs-selector-tag,[data-theme=dark] .hljs-subst{color:#66d9ef;font-weight:700}[data-bs-theme=dark] .hljs-literal,[data-bs-theme=dark] .hljs-number,[data-theme=dark] .hljs-literal,[data-theme=dark] .hljs-number{color:#ae81ff}[data-bs-theme=dark] .hljs-doctag,[data-bs-theme=dark] .hljs-string,[data-theme=dark] .hljs-doctag,[data-theme=dark] .hljs-string{color:#e6db74}[data-bs-theme=dark] .hljs-section,[data-bs-theme=dark] .hljs-selector-id,[data-bs-theme=dark] .hljs-title,[data-theme=dark] .hljs-section,[data-theme=dark] .hljs-selector-id,[data-theme=dark] .hljs-title{color:#f92672;font-weight:700}[data-bs-theme=dark] .hljs-class .hljs-title,[data-bs-theme=dark] .hljs-type,[data-theme=dark] .hljs-class .hljs-title,[data-theme=dark] .hljs-type{color:#a6e22e;font-weight:700}[data-bs-theme=dark] .hljs-attribute,[data-bs-theme=dark] .hljs-name,[data-bs-theme=dark] .hljs-tag,[data-theme=dark] .hljs-attribute,[data-theme=dark] .hljs-name,[data-theme=dark] .hljs-tag{color:#66d9ef}[data-bs-theme=dark] .hljs-link,[data-bs-theme=dark] .hljs-regexp,[data-theme=dark] .hljs-link,[data-theme=dark] .hljs-regexp{color:#a6e22e}[data-bs-theme=dark] .hljs-bullet,[data-bs-theme=dark] .hljs-symbol,[data-theme=dark] .hljs-bullet,[data-theme=dark] .hljs-symbol{color:#f92672}[data-bs-theme=dark] .hljs-built_in,[data-bs-theme=dark] .hljs-builtin-name,[data-theme=dark] .hljs-built_in,[data-theme=dark] .hljs-builtin-name{color:#66d9ef}[data-bs-theme=dark] .hljs-meta,[data-theme=dark] .hljs-meta{color:#9e9e9e}@media (max-width:767.98px){.payment-method-grid{gap:.5rem;grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.payment-method-icon{font-size:1.25rem}.payment-method-name{font-size:.75rem}}.tooltip{z-index:1080!important}.payment-method-card[data-selected=true]{background:#10b9811a!important;border:2px solid var(--primary)!important}.payment-method-card[data-selected=true] .payment-method-label,.payment-method-card[data-selected=true] .payment-method-status{color:var(--primary)!important}.core-dropdown-content{background:var(--card);border:1px solid var(--muted);border-radius:var(--radius);box-shadow:var(--shadow);display:none;left:0;margin-top:4px;max-width:500px;min-width:300px;padding:8px;position:absolute;right:0;top:100%;z-index:1000}.core-dropdown-content.show{display:block}.core-dropdown-content.dropup{bottom:100%;margin-bottom:4px;margin-top:0;top:auto}.hr-divider{margin-bottom:.25rem;margin-top:.25rem}.core-dropdown-grid{display:grid;gap:8px;width:100%}.core-dropdown-grid[data-max-columns="1"]{grid-template-columns:1fr}.core-dropdown-grid[data-max-columns="2"]{grid-template-columns:repeat(2,1fr)}.core-dropdown-grid[data-max-columns="3"]{grid-template-columns:repeat(3,1fr)}.core-dropdown-grid[data-max-columns="4"]{grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}.core-dropdown-option{align-items:center;background:var(--bg);border:1px solid var(--muted);border-radius:var(--radius-lg);color:var(--text);cursor:pointer;display:flex;flex-direction:column;gap:4px;justify-content:center;min-height:50px;padding:.5rem;text-align:center;transition:all .2s ease}.core-dropdown-option[data-size=square]{aspect-ratio:1;min-height:50px!important}.core-dropdown-option[data-size=rectangle]{min-height:60px!important}.core-dropdown-option[data-size=wide]{min-height:45px!important}.core-dropdown-option:hover{border-color:var(--primary);box-shadow:var(--shadow-sm);opacity:.8;transform:translateY(-2px)}.core-dropdown-option.selected{background:var(--primary);border-color:var(--primary);color:#fff}.core-dropdown-option.selected:hover{background:var(--accent);border-color:var(--accent)}.core-dropdown-option-title{color:inherit;font-size:.8rem;font-weight:600;line-height:1.1}.core-dropdown-option-icon{align-items:center;color:inherit;display:flex;justify-content:center}.core-dropdown-option-icon i{color:inherit;font-size:1.25rem}.core-dropdown-option.selected .core-dropdown-option-icon i{color:#fff}.core-dropdown-option-subtitle{color:inherit;font-size:.7rem;line-height:1.2;opacity:.8}@media (max-width:768px){.core-dropdown-grid[data-max-columns="3"],.core-dropdown-grid[data-max-columns="4"]{grid-template-columns:repeat(2,1fr)}.core-dropdown-option{min-height:45px;padding:.4rem}.core-dropdown-option-icon i{font-size:1.1rem}}@media (max-width:480px){.core-dropdown-grid[data-max-columns="2"],.core-dropdown-grid[data-max-columns="3"],.core-dropdown-grid[data-max-columns="4"]{grid-template-columns:1fr}.core-dropdown-option[data-size=square]{aspect-ratio:auto;min-height:45px}}

</style>
</head>
	<body>
		<!-- Header -->
		<!-- /src/html/header.html --><!-- Vars (single source of truth for labels/tooltips). TS can read from #headerVars.dataset.* --><div	id="headerVars"	hidden	data-app-title="ZenPay jQuery Initalizer"	data-tip-home="Go to Dashboard"	data-tip-input="Input Parameters Reference"	data-tip-output="Output Parameters Reference"	data-tip-errors="Error Codes Reference"	data-tip-theme="Toggle Dark Mode"></div><!-- Hidden file input for config import (triggered by Ctrl+Alt+Shift+U) --><input type="file" id="fileInputConfig" accept=".json" style="display: none;" /><header class="topbar" id="appHeader" role="banner">	<div class="header-col header-left">		<a			href="#"			class="btn secondary"			id="homeBtn"			title="Go to Dashboard"			aria-label="Go to Dashboard"			data-bs-toggle="tooltip"			data-bs-placement="bottom"		>			<i class="bi bi-house-door-fill"></i>		</a>	</div>	<div class="header-col header-center">		<div class="brand" id="appTitle">ZenPay jQuery Initalizer</div>	</div>	<div class="header-col header-right toolbar" aria-label="Header actions">		<button			id="inputParametersBtn"			class="btn secondary"			aria-label="View input parameters"			title="Input Parameters Reference"			data-bs-toggle="tooltip"			data-bs-placement="bottom"		>			<i class="bi bi-arrow-down-circle"></i>		</button>		<button			id="outputParametersBtn"			class="btn secondary"			aria-label="View output parameters"			title="Output Parameters Reference"			data-bs-toggle="tooltip"			data-bs-placement="bottom"		>			<i class="bi bi-arrow-up-circle"></i>		</button>		<button			id="errorCodesBtn"			class="btn secondary"			aria-label="View error codes"			title="Error Codes Reference"			data-bs-toggle="tooltip"			data-bs-placement="bottom"		>			<i class="bi bi-exclamation-triangle"></i>		</button>		<button			id="themeToggle"			class="btn secondary"			aria-label="Toggle theme"			title="Toggle Dark Mode"			data-bs-toggle="tooltip"			data-bs-placement="bottom"		>			<i class="bi bi-sun-fill" id="lightIcon"></i>			<i class="bi bi-moon-fill d-none" id="darkIcon"></i>		</button>	</div></header>		<!-- Main content -->
		<main class="wrap" id="mainRoot">	<!-- <div class="warning-container" style="padding: 20px; position: relative; z-index: 1040;">  <div class="badge" role="note" aria-live="polite">    <i class="bi bi-info-circle"></i>    <strong>Note:</strong>&nbsp;In production, never hard-code credentials; use env vars or a server-side integration.  </div></div> -->	<div class="grid">		<section class="card" id="configCard">	<div class="card-hd d-flex justify-content-between align-items-center">		<h2 class="mb-0">			<i class="bi bi-gear me-2"></i>			Plugin Configuration		</h2>		<div class="btn-group" role="group" style="visibility: hidden">			<button				class="copy-btn-icon"				id="copyConfigBtn"				title="Copy Configuration to Clipboard"				aria-label="Copy configuration"				data-bs-toggle="tooltip"				disabled			>				<i class="bi bi-clipboard"></i>			</button>		</div>	</div>	<div class="card-bd">		<!-- API Endpoint -->		<label class="form-label">API Endpoint</label>		<div class="position-relative mb-2">			<input				type="text"				class="form-control pe-5"				id="urlPreview"				placeholder="API Endpoint"				value="https://pay.sandbox.travelpay.com.au/online/v5"				readonly			/>			<button				class="btn btn-link position-absolute end-0 top-50 translate-middle-y text-secondary"				type="button"				id="urlBuilderBtn"				title="Configure API endpoint"			>				<i class="bi bi-gear-fill"></i>			</button>		</div>		<!-- Row: Display Mode (50%) | Payment Mode (50%) -->		<div class="row mb-2">			<!-- Display Mode (Left 50%) -->			<div class="col-md-6">				<label class="form-label">Display Mode</label>				<div style="position: relative">					<!-- Modern Dropdown Trigger Button -->					<button						type="button"						class="form-control text-start d-flex justify-content-between align-items-center"						id="displayModeButton"						style="background: var(--card); border: 1px solid var(--muted); cursor: pointer"					>						<span data-dropdown-text>Standard Modal (jQuery)</span>						<i class="bi bi-chevron-down"></i>					</button>					<!-- Hidden radio inputs for form submission -->					<input						type="radio"						name="displayMode"						id="selectDisplayModeModal"						value="0"						checked						style="display: none"					/>					<input						type="radio"						name="displayMode"						id="selectDisplayModeRedirect"						value="1"						style="display: none"					/>					<!-- Core Dropdown Container -->					<div id="displayModeDropdown"></div>				</div>			</div>			<!-- Payment Mode (Right 50%) -->			<div class="col-md-6">				<label class="form-label">Payment Mode</label>				<div style="position: relative">					<!-- Modern Dropdown Trigger Button -->					<button						type="button"						class="form-control text-start d-flex justify-content-between align-items-center"						id="paymentModeButton"						style="background: var(--card); border: 1px solid var(--muted); cursor: pointer"					>						<span data-dropdown-text>Make Payment</span>						<i class="bi bi-chevron-down"></i>					</button>					<!-- Hidden select for backward compatibility -->					<select id="modeSelect" style="display: none">						<option value="0" selected>0 - Make Payment (Process immediate payment)</option>						<option value="1">1 - Tokenise (Save card details for future use)</option>						<option value="2">2 - Custom Payment (Make payment with custom parameters)</option>						<option value="3">3 - Preauthorization (Reserve funds, capture later)</option>					</select>					<!-- Core Dropdown Container -->					<div id="paymentModeDropdown"></div>				</div>			</div>		</div>		<!-- Credentials Content --><!-- Row 1: API Key | Merchant Code --><div class="row">	<div class="col-md-6">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#apiKey`"				><i class="bi bi-key-fill"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="apiKeyInput"				placeholder="Enter your API key"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Provided by Zenith Payments"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div>	<div class="col-md-6">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#merchantCode`"				><i class="bi bi-building"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="merchantCodeInput"				placeholder="Enter your merchant code"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Provided by Zenith Payments"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div></div><!-- Row 2: Username | Password --><div class="row">	<div class="col-md-6">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#username`"				><i class="bi bi-person-fill"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="usernameInput"				placeholder="Enter your username"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Provided by Zenith Payments"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div>	<div class="col-md-6">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#password`"				><i class="bi bi-lock-fill"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="passwordInput"				placeholder="Enter your password"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Provided by Zenith Payments"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div></div><!-- Row: Payment Amount | Merchant Payment ID --><div class="row mb-0">	<div class="col-md-6">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#paymentAmount`"				><i class="bi bi-currency-dollar"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="paymentAmountInput"				placeholder="Payment Amount"				pattern="[0-9.]*"				inputmode="decimal"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Amount to be processed (e.g., 100.00)"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div>	<div class="col-md-6">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#merchantUniquePaymentId`"				><i class="bi bi-upc"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="merchantUniquePaymentIdInput"				placeholder="Merchant Payment ID"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Unique merchant payment identifier"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div></div><hr class="hr-divider" /><!-- Row 3: Redirect URL | Callback URL --><div class="row">	<div class="col-md-6">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#redirectUrl`"				><i class="bi bi-arrow-return-right"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="redirectUrlInput"				placeholder="Redirect URL"				value=""			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="URL where users are redirected after payment"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div>	<div class="col-md-6">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#callbackUrl`"				><i class="bi bi-arrow-clockwise"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="callbackUrlInput"				placeholder="Callback URL"				value=""			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="URL for server-to-server callback notifications"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div></div><!-- Row: Customer Name | Contact Number | Customer Email (33/33/33) --><div class="row">	<div class="col-md-4">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#customerName`"				><i class="bi bi-person"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="customerNameInput"				placeholder="Customer Name"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Customer's full name"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div>	<div class="col-md-4">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#contactNumber`"				><i class="bi bi-telephone"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="contactNumberInput"				placeholder="Contact Number"				pattern="[0-9]*"				inputmode="numeric"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Customer's phone number"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div>	<div class="col-md-4">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#customerEmail`"				><i class="bi bi-envelope-at"></i			></span>			<input				type="email"				class="form-control border-start-0"				id="customerEmailInput"				placeholder="Customer Email"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Customer's email address"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div></div><!-- Row 5: Customer Reference | Additional Reference --><div class="row mb-0">	<div class="col-md-6">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#customerReference`"				><i class="bi bi-hash"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="customerReferenceInput"				placeholder="Customer Reference"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Unique customer reference identifier"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div>	<div class="col-md-6">		<div class="input-group">			<span				class="input-group-text"				data-bs-toggle="tooltip"				data-bs-placement="top"				title="Parameter `#additionalReference`"				><i class="bi bi-tag"></i			></span>			<input				type="text"				class="form-control border-start-0"				id="additionalReferenceInput"				placeholder="Additional Reference"			/>			<button				class="btn btn-outline-secondary"				type="button"				data-bs-toggle="tooltip"				title="Additional reference to identify customer for reconciliation"			>				<i class="bi bi-info-circle"></i>			</button>		</div>	</div></div><hr class="hr-divider" /><!-- Payment Methods - Full Width Row --><div class="mb-2">	<label class="form-label">		<i class="bi bi-credit-card-2-front me-1"></i>Payment Methods		<i			class="bi bi-question-circle ms-2"			onclick="showParameterModal('allow')"			style="cursor: pointer; color: var(--muted)"			title="View payment method parameters"		></i>	</label>	<div class="payment-method-grid">		<!-- Bank -->		<div			class="payment-method-card"			data-option="allowBankAcOneOffPayment"			data-bs-toggle="tooltip"			data-bs-placement="top"			title="Allow One-Off Bank Account payments"		>			<input				type="checkbox"				class="payment-method-toggle visually-hidden"				id="allowBankAcOneOffPayment"				data-option="allowBankAcOneOffPayment"			/>			<label for="allowBankAcOneOffPayment" class="payment-method-label">				<div class="payment-method-icon"><i class="bi bi-bank"></i></div>				<div class="payment-method-name">Bank</div>				<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>			</label>		</div>		<!-- PayTo -->		<div			class="payment-method-card"			data-option="allowPayToOneOffPayment"			data-bs-toggle="tooltip"			data-bs-placement="top"			title="Allow One-Off PayTo payments"		>			<input				type="checkbox"				class="payment-method-toggle visually-hidden"				id="allowPayToOneOffPayment"				data-option="allowPayToOneOffPayment"			/>			<label for="allowPayToOneOffPayment" class="payment-method-label">				<div class="payment-method-icon"><i class="bi bi-credit-card"></i></div>				<div class="payment-method-name">PayTo</div>				<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>			</label>		</div>		<!-- PayID -->		<div			class="payment-method-card"			data-option="allowPayIdOneOffPayment"			data-bs-toggle="tooltip"			data-bs-placement="top"			title="Allow One-Off PayID payments"		>			<input				type="checkbox"				class="payment-method-toggle visually-hidden"				id="allowPayIdOneOffPayment"				data-option="allowPayIdOneOffPayment"			/>			<label for="allowPayIdOneOffPayment" class="payment-method-label">				<div class="payment-method-icon"><i class="bi bi-qr-code"></i></div>				<div class="payment-method-name">PayID</div>				<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>			</label>		</div>		<!-- Apple Pay -->		<div			class="payment-method-card"			data-option="allowApplePayOneOffPayment"			data-bs-toggle="tooltip"			data-bs-placement="top"			title="Allow One-Off Apple Pay"		>			<input				type="checkbox"				class="payment-method-toggle visually-hidden"				id="allowApplePayOneOffPayment"				data-option="allowApplePayOneOffPayment"			/>			<label for="allowApplePayOneOffPayment" class="payment-method-label">				<div class="payment-method-icon"><i class="bi bi-apple"></i></div>				<div class="payment-method-name">Apple</div>				<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>			</label>		</div>		<!-- Google Pay -->		<div			class="payment-method-card"			data-option="allowGooglePayOneOffPayment"			data-bs-toggle="tooltip"			data-bs-placement="top"			title="Allow One-Off Google Pay"		>			<input				type="checkbox"				class="payment-method-toggle visually-hidden"				id="allowGooglePayOneOffPayment"				data-option="allowGooglePayOneOffPayment"			/>			<label for="allowGooglePayOneOffPayment" class="payment-method-label">				<div class="payment-method-icon"><i class="bi bi-google"></i></div>				<div class="payment-method-name">Google</div>				<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>			</label>		</div>		<!-- Slice Pay -->		<div			class="payment-method-card"			data-option="allowSlicePayOneOffPayment"			data-bs-toggle="tooltip"			data-bs-placement="top"			title="Allow One-Off Slice Pay payments"		>			<input				type="checkbox"				class="payment-method-toggle visually-hidden"				id="allowSlicePayOneOffPayment"				data-option="allowSlicePayOneOffPayment"			/>			<label for="allowSlicePayOneOffPayment" class="payment-method-label">				<div class="payment-method-icon"><i class="bi bi-scissors"></i></div>				<div class="payment-method-name">Slice</div>				<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>			</label>		</div>		<!-- Save Card -->		<div			class="payment-method-card"			data-option="allowSaveCardUserOption"			data-bs-toggle="tooltip"			data-bs-placement="top"			title="Allow One-Off Save Card option for users"		>			<input				type="checkbox"				class="payment-method-toggle visually-hidden"				id="allowSaveCardUserOption"				data-option="allowSaveCardUserOption"			/>			<label for="allowSaveCardUserOption" class="payment-method-label">				<div class="payment-method-icon"><i class="bi bi-save"></i></div>				<div class="payment-method-name">Save</div>				<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>			</label>		</div>		<!-- UnionPay -->		<div			class="payment-method-card"			data-option="allowUnionPayOneOffPayment"			data-bs-toggle="tooltip"			data-bs-placement="top"			title="Allow One-Off UnionPay payments"		>			<input				type="checkbox"				class="payment-method-toggle visually-hidden"				id="allowUnionPayOneOffPayment"				data-option="allowUnionPayOneOffPayment"			/>			<label for="allowUnionPayOneOffPayment" class="payment-method-label">				<div class="payment-method-icon"><i class="bi bi-credit-card-2-back"></i></div>				<div class="payment-method-name">UnionPay</div>				<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>			</label>		</div>	</div></div><!-- Second Row: 50/50 Split --><div class="mb-2">	<div class="row settings-row">		<!-- Email Settings -->		<div class="col-md-3">			<label class="form-label">				<i class="bi bi-envelope me-1"></i>Email Settings				<i					class="bi bi-question-circle ms-2"					onclick="showParameterModal('email')"					style="cursor: pointer; color: var(--muted)"					title="View email-related parameters"				></i>			</label>			<div class="payment-method-grid" style="grid-template-columns: 1fr 1fr; gap: 0.5rem">				<!-- Email Merchant -->				<div					class="payment-method-card"					data-option="sendConfirmationEmailToMerchant"					data-bs-toggle="tooltip"					data-bs-placement="top"					title="Send a confirmation email to the merchant after payment"				>					<input						type="checkbox"						class="payment-method-toggle visually-hidden"						id="sendConfirmationEmailToMerchant"						data-option="sendConfirmationEmailToMerchant"					/>					<label for="sendConfirmationEmailToMerchant" class="payment-method-label">						<div class="payment-method-icon"><i class="bi bi-envelope-fill"></i></div>						<div class="payment-method-name">Email Merchant</div>						<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>					</label>				</div>				<!-- Email Customer -->				<div					class="payment-method-card"					data-option="sendConfirmationEmailToCustomer"					data-bs-toggle="tooltip"					data-bs-placement="top"					title="Send a confirmation email to the customer after payment"				>					<input						type="checkbox"						class="payment-method-toggle visually-hidden"						id="sendConfirmationEmailToCustomer"						data-option="sendConfirmationEmailToCustomer"					/>					<label for="sendConfirmationEmailToCustomer" class="payment-method-label">						<div class="payment-method-icon"><i class="bi bi-envelope"></i></div>						<div class="payment-method-name">Email Customer</div>						<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>					</label>				</div>			</div>		</div>		<!-- Display Settings -->		<div class="col-md-3">			<label class="form-label">				<i class="bi bi-display me-1"></i>Display Settings				<i					class="bi bi-question-circle ms-2"					onclick="showParameterModal('hide')"					style="cursor: pointer; color: var(--muted)"					title="View display-related parameters"				></i>			</label>			<div class="payment-method-grid" style="grid-template-columns: 1fr 1fr; gap: 0.5rem">				<!-- Hide Logo -->				<div					class="payment-method-card"					data-option="hideMerchantLogo"					data-bs-toggle="tooltip"					data-bs-placement="top"					title="Hide the merchant logo in the payment UI"				>					<input						type="checkbox"						class="payment-method-toggle visually-hidden"						id="hideMerchantLogo"						data-option="hideMerchantLogo"					/>					<label for="hideMerchantLogo" class="payment-method-label">						<div class="payment-method-icon"><i class="bi bi-image"></i></div>						<div class="payment-method-name">Hide Logo</div>						<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>					</label>				</div>				<!-- Hide Terms -->				<div					class="payment-method-card"					data-option="hideTermsAndConditions"					data-bs-toggle="tooltip"					data-bs-placement="top"					title="Hide the terms and conditions section in the payment UI"				>					<input						type="checkbox"						class="payment-method-toggle visually-hidden"						id="hideTermsAndConditions"						data-option="hideTermsAndConditions"					/>					<label for="hideTermsAndConditions" class="payment-method-label">						<div class="payment-method-icon"><i class="bi bi-file-earmark-text"></i></div>						<div class="payment-method-name">Hide T&Cs</div>						<div class="payment-method-status"><i class="bi bi-check-circle-fill"></i></div>					</label>				</div>			</div>		</div>		<!-- Right Side: 50% (User Mode stacked above Override Fee Payer) -->		<div class="col-md-6">			<!-- User Mode Settings -->			<div class="mb-2">				<label					class="form-label"					data-bs-toggle="tooltip"					data-bs-placement="top"					title="Click to select user mode (Customer Facing or Merchant Facing)"				>					<i class="bi bi-person-gear me-1"></i>User Mode					<i						class="bi bi-question-circle ms-2"						onclick="showParameterModal('userMode')"						style="cursor: pointer; color: var(--muted)"						title="View userMode parameter details"					></i>				</label>				<div style="position: relative">					<!-- CoreDropdown Button -->					<button						type="button"						class="form-control text-start d-flex justify-content-between align-items-center"						id="userModeButton"						style="background: var(--card); border: 1px solid var(--muted); cursor: pointer"					>						<span data-dropdown-text>Customer Facing</span>						<i class="bi bi-chevron-down"></i>					</button>					<!-- CoreDropdown Container -->					<div id="userModeDropdown"></div>					<!-- Hidden radio inputs for form submission -->					<input						type="radio"						name="userMode"						id="selectUserModeCustomer"						value="0"						checked						style="display: none"					/>					<input						type="radio"						name="userMode"						id="selectUserModeMerchant"						value="1"						style="display: none"					/>				</div>			</div>			<!-- Override Fee Payer Settings -->			<div>				<label					class="form-label"					data-bs-toggle="tooltip"					data-bs-placement="top"					title="Click to select fee payer override (Default, Merchant Pays, or Customer Pays)"				>					<i class="bi bi-currency-dollar me-1"></i>Override Fee Payer					<i						class="bi bi-question-circle ms-2"						onclick="showParameterModal('overrideFeePayer')"						style="cursor: pointer; color: var(--muted)"						title="View overrideFeePayer parameter details"					></i>				</label>				<div style="position: relative">					<!-- CoreDropdown Button -->					<button						type="button"						class="form-control text-start d-flex justify-content-between align-items-center"						id="overrideFeePayerButton"						style="background: var(--card); border: 1px solid var(--muted); cursor: pointer"					>						<span data-dropdown-text>Default</span>						<i class="bi bi-chevron-down"></i>					</button>					<!-- CoreDropdown Container -->					<div id="overrideFeePayerDropdown" class="dropup"></div>					<!-- Hidden radio inputs for form submission -->					<input						type="radio"						name="overrideFeePayer"						id="overrideFeePayerDefault"						value="0"						checked						style="display: none"					/>					<input						type="radio"						name="overrideFeePayer"						id="overrideFeePayerCustomer"						value="2"						style="display: none"					/>					<input						type="radio"						name="overrideFeePayer"						id="overrideFeePayerMerchant"						value="1"						style="display: none"					/>				</div>			</div>		</div>	</div></div> <div class="d-grid gap-2 mt-3">	<button		id="initializePlugin"		class="btn btn-primary w-100"		type="button"		data-bs-toggle="tooltip"		title="Please fill in API Key, Username, Password, and Merchant Code to initialize plugin."	>		<i class="bi bi-play-fill me-2"></i>Initialize Plugin	</button></div>	</div></section> <section class="card">	<div class="card-hd d-flex justify-content-between align-items-center">		<h2 class="mb-0">			<i class="bi bi-code-slash me-2"></i>			Code Preview		</h2>		<div class="btn-group" role="group">			<button				class="copy-btn-icon"				id="copyCodeBtn"				title="Copy Code to Clipboard"				aria-label="Copy code"				data-bs-toggle="tooltip"			>				<i class="bi bi-clipboard"></i>			</button>			<button				class="download-btn-icon"				id="downloadDemoBtn"				title="Download Demo"				aria-label="Download demo"				data-bs-toggle="tooltip"			>				<i class="bi bi-download"></i>			</button>		</div>	</div>	<div class="card-bd">		<pre><code id="codePreview" class="language-js"></code></pre>	</div></section>	</div></main>		<!-- Modal -->
		<!-- /src/html/modal.html --><!-- Error Modal --><div	class="modal fade"	id="errorModal"	tabindex="-1"	aria-labelledby="errorModalTitle"	aria-hidden="true">	<div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">		<div class="modal-content">			<div class="modal-header bg-danger-subtle">				<h5 class="modal-title" id="errorModalTitle">Error</h5>				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>			</div>			<div class="modal-body">				<div id="errorModalAlert" class="alert alert-danger d-none" role="alert"></div>				<div id="errorModalBody"><p>Something went wrong.</p></div>				<div class="mt-3">					<button						class="btn btn-sm btn-outline-secondary"						type="button"						data-bs-toggle="collapse"						data-bs-target="#errorModalDetails"						aria-expanded="false"						aria-controls="errorModalDetails"					>						View technical details					</button>					<div id="errorModalDetails" class="collapse mt-2">						<pre class="mb-0"><code id="errorModalCode">/* stack or payload here */</code></pre>					</div>				</div>			</div>			<div class="modal-footer">				<button id="errorCopyBtn" type="button" class="btn btn-outline-secondary">					Copy details				</button>				<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>			</div>		</div>	</div></div><!-- Error Codes Reference Modal --><div	class="modal fade"	id="errorCodesModal"	tabindex="-1"	aria-labelledby="errorCodesModalTitle"	aria-hidden="true">	<div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">		<div class="modal-content">			<div class="modal-header bg-info-subtle">				<h5 class="modal-title" id="errorCodesModalTitle">ZenPay Error Codes Reference</h5>				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>			</div>			<div class="modal-body">				<div class="row">					<div class="col-md-6">						<input							type="text"							id="errorSearchInput"							class="form-control"							placeholder="Search error codes..."						/>					</div>					<div class="col-md-6">						<select id="errorCategoryFilter" class="form-select">							<option value="">All Categories</option>						</select>					</div>				</div>				<div class="table-responsive">					<table class="table table-hover">						<thead>							<tr>								<th>Code</th>								<th>Category</th>								<th>Description</th>							</tr>						</thead>						<tbody id="errorCodesTableBody"></tbody>					</table>				</div>				<div id="noErrorCodesFound" class="alert alert-info d-none" role="alert">					No error codes found matching your search criteria.				</div>			</div>			<div class="modal-footer">				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>			</div>		</div>	</div></div><!-- Generic Info Modal --><div	class="modal fade"	id="genericModal"	tabindex="-1"	aria-labelledby="genericModalTitle"	aria-hidden="true">	<div class="modal-dialog modal-dialog-centered">		<div class="modal-content">			<div class="modal-header bg-primary-subtle">				<h5 class="modal-title" id="genericModalTitle">Notice</h5>				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>			</div>			<div id="genericModalBody" class="modal-body">â€¦</div>			<div class="modal-footer">				<button id="genericOkBtn" type="button" class="btn btn-primary" data-bs-dismiss="modal">					OK				</button>			</div>		</div>	</div></div><!-- Confirm Modal --><div	class="modal fade"	id="confirmModal"	data-bs-backdrop="static"	data-bs-keyboard="false"	tabindex="-1"	aria-labelledby="confirmModalTitle"	aria-hidden="true">	<div class="modal-dialog modal-dialog-centered">		<div class="modal-content">			<div class="modal-header bg-warning-subtle">				<h5 class="modal-title" id="confirmModalTitle">Please confirm</h5>				<button					type="button"					class="btn-close"					data-bs-dismiss="modal"					aria-label="Cancel"				></button>			</div>			<div id="confirmModalBody" class="modal-body">Are you sure you want to proceed?</div>			<div class="modal-footer">				<button					id="confirmCancelBtn"					type="button"					class="btn btn-outline-secondary"					data-bs-dismiss="modal"				>					Cancel				</button>				<button id="confirmOkBtn" type="button" class="btn btn-warning">Confirm</button>			</div>		</div>	</div></div><!-- Input Parameters Reference Modal --><div	class="modal fade"	id="inputParametersModal"	tabindex="-1"	aria-labelledby="inputParametersModalTitle"	aria-hidden="true">	<div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">		<div class="modal-content">			<div class="modal-header bg-info-subtle">				<h5 class="modal-title" id="inputParametersModalTitle">Input Parameters Reference</h5>				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>			</div>			<div class="modal-body">				<div class="mb-3">					<input						type="text"						id="inputParamSearchInput"						class="form-control"						placeholder="Search parameters..."					/>				</div>				<div id="inputParametersContent"></div>			</div>			<div class="modal-footer">				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>			</div>		</div>	</div></div><!-- Output Parameters Reference Modal --><div	class="modal fade"	id="outputParametersModal"	tabindex="-1"	aria-labelledby="outputParametersModalTitle"	aria-hidden="true">	<div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">		<div class="modal-content">			<div class="modal-header bg-success-subtle">				<h5 class="modal-title" id="outputParametersModalTitle">Output Parameters Reference</h5>				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>			</div>			<div class="modal-body">				<div class="mb-3">					<input						type="text"						id="outputParamSearchInput"						class="form-control"						placeholder="Search parameters..."					/>				</div>				<div id="outputParametersContent"></div>			</div>			<div class="modal-footer">				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>			</div>		</div>	</div></div><!-- URL Builder Modal --><div	class="modal fade"	id="urlBuilderModal"	tabindex="-1"	aria-labelledby="urlBuilderModalLabel"	aria-hidden="true">	<div class="modal-dialog">		<div class="modal-content">			<div class="modal-header bg-primary-subtle">				<h5 class="modal-title" id="urlBuilderModalLabel">Configure API Endpoint</h5>				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>			</div>			<div class="modal-body">				<!-- Subdomain -->				<div class="mb-3">					<label class="form-label small">Subdomain</label>					<div class="btn-group w-100" role="group" aria-label="Subdomain selector">						<input type="radio" class="btn-check" name="subdomain" id="subdomain-pay" value="pay" />						<label class="btn btn-outline-primary" for="subdomain-pay">pay</label>						<input							type="radio"							class="btn-check"							name="subdomain"							id="subdomain-pay-sandbox"							value="pay.sandbox"							checked						/>						<label class="btn btn-outline-primary" for="subdomain-pay-sandbox">pay.sandbox</label>						<input							type="radio"							class="btn-check"							name="subdomain"							id="subdomain-payuat"							value="payuat"						/>						<label class="btn btn-outline-primary" for="subdomain-payuat">payuat</label>					</div>				</div>				<!-- Domain -->				<div class="mb-3">					<label class="form-label small" for="domainSelect">Domain</label>					<select class="form-select" id="domainSelect">						<option value="travelpay" selected>travelpay</option>						<option value="rentalrewards">rentalrewards</option>						<option value="b2bpay">b2bpay</option>						<option value="childcareeasypay">childcareeasypay</option>						<option value="schooleasypay">schooleasypay</option>						<option value="thoroughbredpayments">thoroughbredpayments</option>					</select>				</div>				<!-- Version -->				<div class="mb-3">					<label class="form-label small">API Version</label>					<div class="btn-group w-100" role="group" aria-label="Version selector">						<input type="radio" class="btn-check" name="version" id="version-v3" value="v3" />						<label class="btn btn-outline-primary" for="version-v3">v3</label>						<input type="radio" class="btn-check" name="version" id="version-v4" value="v4" />						<label class="btn btn-outline-primary" for="version-v4">v4</label>						<input							type="radio"							class="btn-check"							name="version"							id="version-v5"							value="v5"							checked						/>						<label class="btn btn-outline-primary" for="version-v5">v5</label>					</div>				</div>				<!-- Preview -->				<div class="mb-3">					<label class="form-label small" for="modalUrlPreview">URL Preview</label>					<div class="input-group">						<input							type="text"							class="form-control"							id="modalUrlPreview"							value="https://pay.travelpay.com.au/online/v5"							readonly						/>						<button							class="btn secondary"							type="button"							id="modalCopyUrlBtn"							title="Copy URL"							aria-label="Copy URL"						>							<i class="bi bi-clipboard"></i>						</button>					</div>				</div>			</div>			<div class="modal-footer">				<button type="button" class="btn secondary" data-bs-dismiss="modal">Cancel</button>				<button type="button" class="btn" id="applyUrlChanges">Apply</button>			</div>		</div>	</div></div><!-- SlicePay Departure Date Modal --><div	class="modal fade"	id="slicePayDepartureDateModal"	data-bs-backdrop="static"	data-bs-keyboard="false"	tabindex="-1"	aria-labelledby="slicePayDepartureDateModalTitle"	aria-hidden="true">	<div class="modal-dialog modal-dialog-centered">		<div class="modal-content">			<div class="modal-header bg-primary-subtle">				<h5 class="modal-title" id="slicePayDepartureDateModalTitle">					<i class="bi bi-calendar-event me-2"></i>SlicePay Departure Date Required				</h5>				<button					type="button"					class="btn-close"					data-bs-dismiss="modal"					aria-label="Close"				></button>			</div>			<div class="modal-body">				<p class="text-muted mb-3">					SlicePay requires a departure date at least 21 days in advance.				</p>				<div class="input-group">					<span class="input-group-text">						<i class="bi bi-calendar-date"></i>					</span>					<input						type="date"						class="form-control"						id="departureDateInput"					/>				</div>			</div>			<div class="modal-footer">				<button					id="slicePayCancelBtn"					type="button"					class="btn btn-outline-secondary"					data-bs-dismiss="modal"				>					Cancel				</button>				<button id="slicePayConfirmBtn" type="button" class="btn btn-primary">					Confirm				</button>			</div>		</div>	</div></div><!-- Toast container --><div class="position-fixed top-0 end-0 p-3" style="z-index: 1080">	<div		id="appToast"		class="toast align-items-center text-bg-secondary border-0"		role="status"		aria-live="polite"		aria-atomic="true"	>		<div class="d-flex">			<div id="appToastBody" class="toast-body">Action completed.</div>			<button				type="button"				class="btn-close btn-close-white me-2 m-auto"				data-bs-dismiss="toast"				aria-label="Close"			></button>		</div>	</div></div>		<!-- Footer -->
		<footer class="footer" role="contentinfo">	<!-- Left: logo -->	<div class="footer-col footer-left">		<img id="logo-img" alt="ZenPay Logo" width="64" height="64" />	</div>	<!-- Center: team note -->	<div class="footer-col footer-center">		<div class="chip">Made by ZenPay Integrations Team <span class="pulse-heart">â¤ï¸</span></div>	</div>	<!-- Right: quick links -->	<nav class="footer-col footer-right toolbar" aria-label="Footer links">		<a			href="https://docs.zenithpayments.com.au"			target="_blank"			class="btn secondary"			title="Documentation"			data-bs-toggle="tooltip"			data-bs-placement="top"			aria-label="Documentation"		>			<i class="bi bi-file-earmark-text"></i>		</a>		<a			href="#"			class="btn secondary"			title="Support"			data-bs-toggle="tooltip"			data-bs-placement="top"			aria-label="Support"		>			<i class="bi bi-question-circle"></i>		</a>		<a			href="mailto:integrations@zenithpayments.com.au"			class="btn secondary"			title="Contact"			data-bs-toggle="tooltip"			data-bs-placement="top"			aria-label="Contact"		>			<i class="bi bi-envelope"></i>		</a>	</nav></footer>		<!-- jQuery -->
		<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
		<!-- highlight.js -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
		<!-- JS SHA3 -->
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/js-sha3/0.9.3/sha3.min.js"
			crossorigin="anonymous"
		></script>
		<!-- Other dependencies: Bootstrap, ZenPay -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdnuat.travelpay.com.au/js/zenpay.payment.bs5.js"></script>
		<!-- Custom JavaScript - Vite will handle the bundling -->
	
<script>
!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e=(()=>{if("undefined"==typeof window||void 0===window.bootstrap)throw new Error("Bootstrap is not available. Ensure it is loaded before this module.");return window.bootstrap})(),t=(()=>{if("undefined"==typeof window||void 0===window.hljs)throw new Error("Highlight.js is not available. Ensure it is loaded before this module.");return window.hljs})();"undefined"!=typeof window&&(window.zpV3CompatMode=window.zpV3CompatMode??{omitTimestampFromHash:!1,omitMerchantCodeFromPayload:!1},window.zenhelp=function(){console.log("ðŸ”§ ZenPay Debug Commands"),console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"),console.log(""),console.log("ðŸ“Œ V3 Compatibility Mode:"),console.log("  zpV3CompatMode.omitTimestampFromHash = true/false"),console.log("  zpV3CompatMode.omitMerchantCodeFromPayload = true/false"),console.log(""),console.log("ðŸ“‹ Current Settings:"),console.log("  Timestamp excluded:",window.zpV3CompatMode.omitTimestampFromHash),console.log("  MerchantCode excluded:",window.zpV3CompatMode.omitMerchantCodeFromPayload),console.log(""),console.log("ðŸ’¡ Example Usage:"),console.log("  zpV3CompatMode.omitTimestampFromHash = true"),console.log('  // Then click "Initialize Plugin"'),console.log(""),console.log("ðŸ”„ Reset All:"),console.log("  zpV3CompatMode.omitTimestampFromHash = false"),console.log("  zpV3CompatMode.omitMerchantCodeFromPayload = false"),console.log(""),console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”")});const n="subdomain",o="domain",r="version",i={credentials:{apiKey:"<<API-KEY>>",username:"<<USERNAME>>",password:"<<PASSWORD>>",merchantCode:"<<MERCHANT-CODE>>",paymentAmount:""},extended:{redirectUrl:`${window.location.origin}/redirect`,callbackUrl:"",customerName:"",customerReference:"",customerEmail:"",merchantUniquePaymentId:"",contactNumber:"0400001002"},paymentMethods:{allowBankAcOneOffPayment:!1,allowPayToOneOffPayment:!1,allowPayIdOneOffPayment:!1,allowApplePayOneOffPayment:!1,allowGooglePayOneOffPayment:!1,allowSlicePayOneOffPayment:!1,allowSaveCardUserOption:!1},options:{sendConfirmationEmailToCustomer:!1,sendConfirmationEmailToMerchant:!1,hideTermsAndConditions:!1,hideMerchantLogo:!1,userMode:0,overrideFeePayer:0,showFeeOnTokenising:!1,showFailedPaymentFeeOnTokenising:!1,minHeight:925,displayMode:0},url:{subdomain:"pay.sandbox",domain:"travelpay",version:"v5"}},a={allowBankAcOneOffPayment:i.paymentMethods.allowBankAcOneOffPayment,allowPayToOneOffPayment:i.paymentMethods.allowPayToOneOffPayment,allowPayIdOneOffPayment:i.paymentMethods.allowPayIdOneOffPayment,allowApplePayOneOffPayment:i.paymentMethods.allowApplePayOneOffPayment,allowGooglePayOneOffPayment:i.paymentMethods.allowGooglePayOneOffPayment,allowSlicePayOneOffPayment:i.paymentMethods.allowSlicePayOneOffPayment,allowSaveCardUserOption:i.paymentMethods.allowSaveCardUserOption},s={redirectUrl:i.extended.redirectUrl,callbackUrl:i.extended.callbackUrl,customerName:i.extended.customerName,customerReference:i.extended.customerReference,customerEmail:i.extended.customerEmail,merchantUniquePaymentId:i.extended.merchantUniquePaymentId,contactNumber:i.extended.contactNumber,minHeight:i.options.minHeight},l={getValue(e){const t="string"==typeof e?document.querySelector(e):e;return t?.value?.trim()??""},setValue(e,t){const n="string"==typeof e?document.querySelector(e):e;n&&(n.value=t)},getText(e){const t="string"==typeof e?document.querySelector(e):e;return t?.textContent?.trim()??""},setText(e,t){const n="string"==typeof e?document.querySelector(e):e;n&&(n.textContent=t)},hasClass(e,t){const n="string"==typeof e?document.querySelector(e):e;return n?.classList.contains(t)??!1},addClass(e,t){const n="string"==typeof e?document.querySelector(e):e;n?.classList.add(t)},removeClass(e,t){const n="string"==typeof e?document.querySelector(e):e;n?.classList.remove(t)},toggleClass(e,t){const n="string"==typeof e?document.querySelector(e):e;n?.classList.toggle(t)},on(e,t,n){const o="string"==typeof e?document.querySelector(e):e;o?.addEventListener(t,n)},off(e,t,n){const o="string"==typeof e?document.querySelector(e):e;o?.removeEventListener(t,n)}};class c extends Error{constructor(e,t,n){super(e),this.algorithm=t,this.cause=n,this.name="FingerprintGenerationError"}}const d="<<API-KEY>>",u="<<USERNAME>>",m="<<PASSWORD>>",p={v3:"SHA-1",v4:"SHA-512",v5:"SHA-3-512"};function f(e,t){return(t?e.slice(0,-1):e).join("|")}async function h(e,t){try{const n=(new TextEncoder).encode(t);return function(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(await crypto.subtle.digest(e,n))}catch(n){throw new c(`Failed to generate ${e} hash`,e,n instanceof Error?n:void 0)}}function g(e){try{return(e=>{const t=globalThis.sha3_512??window.sha3_512;if("function"!=typeof t)return console.warn("sha3_512 function is not defined. Ensure the library is loaded."),"";try{return t(e)}catch(n){console.warn("sha3_512 function failed with data parameter, trying alternative signature:",n);try{const n=t();if("function"==typeof n)return n(e)}catch(o){console.warn("sha3_512 function fallback also failed:",o)}return""}})(e)}catch(t){throw new c("Failed to generate SHA-3-512 hash","SHA-3-512",t instanceof Error?t:void 0)}}function y(e,t,n,o,r,i,a){return g(f([e,t,n,o,r,i,a],!!window.zpV3CompatMode?.omitTimestampFromHash))}async function w(e){const t={apiKey:(n={apiKey:e.apiKey,username:e.username,password:e.password}).apiKey===d?"":n.apiKey,username:n.username===u?"":n.username,password:n.password===m?"":n.password};var n;if(!t.apiKey||!t.username||!t.password)return console.warn("[generatePaymentSecurityFingerprint] Missing required credentials"),"";const o="2"===e.mode?"0":String(e.paymentAmount).replace(".",""),r=document.querySelector('input[name="version"]:checked'),i=r?.value??"v5",a=i in p?i:"v5";return"v3"===a?async function(e,t,n,o,r,i,a){const s=f([e,t,n,o,r,i,a],!!window.zpV3CompatMode?.omitTimestampFromHash);return await h("SHA-1",s)}(t.apiKey,t.username,t.password,e.mode,o,e.merchantUniquePaymentId,e.timestamp):"v4"===a?async function(e,t,n,o,r,i,a){const s=f([e,t,n,o,r,i,a],!!window.zpV3CompatMode?.omitTimestampFromHash);return await h("SHA-512",s)}(t.apiKey,t.username,t.password,e.mode,o,e.merchantUniquePaymentId,e.timestamp):y(t.apiKey,t.username,t.password,e.mode,o,e.merchantUniquePaymentId,e.timestamp)}class E extends Error{constructor(e,t){super(e),this.cause=t,this.name="Base64Error"}}class v extends Error{constructor(e,t,n){super(e),this.operation=t,this.cause=n,this.name="CustomerGenerationError"}}class b extends Error{constructor(e,t,n){super(e),this.value=t,this.operation=n,this.name="PaymentAmountValidationError"}}class P extends Error{constructor(e,t,n){super(e),this.operation=t,this.cause=n,this.name="ClipboardOperationError"}}const C=/^[\x20-\x7E]*$/,I=1,A=99999.99,O=2,S=[{firstName:"Tyrael",lastName:"Justice",fullName:"Tyrael Justice"},{firstName:"Imperius",lastName:"Valor",fullName:"Imperius Valor"},{firstName:"Baal",lastName:"Destruction",fullName:"Baal Destruction"},{firstName:"Leah",lastName:"Adria",fullName:"Leah Adria"},{firstName:"Deckard",lastName:"Cain",fullName:"Deckard Cain"},{firstName:"Durotan",lastName:"Frostwolf",fullName:"Durotan Frostwolf"},{firstName:"Orgrim",lastName:"Doomhammer",fullName:"Orgrim Doomhammer"},{firstName:"Kael'thas",lastName:"Sunstrider",fullName:"Kael'thas Sunstrider"},{firstName:"Maiev",lastName:"Shadowsong",fullName:"Maiev Shadowsong"},{firstName:"Medivh",lastName:"Guardian",fullName:"Medivh Guardian"},{firstName:"Jim",lastName:"Raynor",fullName:"Jim Raynor"},{firstName:"Sarah",lastName:"Kerrigan",fullName:"Sarah Kerrigan"},{firstName:"Arcturus",lastName:"Mengsk",fullName:"Arcturus Mengsk"},{firstName:"Zeratul",lastName:"Darkblade",fullName:"Zeratul Darkblade"},{firstName:"Tassadar",lastName:"Executor",fullName:"Tassadar Executor"},{firstName:"Arthas",lastName:"Menethil",fullName:"Arthas Menethil"},{firstName:"Thrall",lastName:"Go'el",fullName:"Thrall Go'el"},{firstName:"Illidan",lastName:"Stormrage",fullName:"Illidan Stormrage"},{firstName:"Jaina",lastName:"Proudmoore",fullName:"Jaina Proudmoore"},{firstName:"Sylvanas",lastName:"Windrunner",fullName:"Sylvanas Windrunner"},{firstName:"Bolvar",lastName:"Fordragon",fullName:"Bolvar Fordragon"},{firstName:"Garrosh",lastName:"Hellscream",fullName:"Garrosh Hellscream"},{firstName:"Varian",lastName:"Wrynn",fullName:"Varian Wrynn"},{firstName:"Anduin",lastName:"Wrynn",fullName:"Anduin Wrynn"},{firstName:"Tyrande",lastName:"Whisperwind",fullName:"Tyrande Whisperwind"},{firstName:"Calia",lastName:"Menethil",fullName:"Calia Menethil"}];function L(e){const t=new WeakSet;try{return JSON.stringify(e,((e,n)=>{if("object"==typeof n&&null!==n){if(t.has(n))return"[Circular]";t.add(n)}return n}),0)??String(e)}catch{try{return String(e)}catch{return"null"}}}function M(e){if(null==e)return null;try{return JSON.parse(e)}catch{return null}}function T(e){if("string"!=typeof e)throw new E("Input must be a string");if(!C.test(e))throw new E("Input contains non-ASCII characters");try{return btoa(e)}catch(t){throw new E(`Base64 encoding failed: ${t instanceof Error?t.message:"Unknown error"}`,t instanceof Error?t:void 0)}}function B(e){if("string"!=typeof e)throw new E("Input must be a string");try{return atob(e)}catch(t){throw new E(`Base64 decoding failed: ${t instanceof Error?t.message:"Unknown error"}`,t instanceof Error?t:void 0)}}function N(){const e=Math.floor(Math.random()*S.length),t=S[e];if(!t)throw new v("Failed to select a customer name","name");return t}function F(e){if(!e||0===e.trim().length)throw new v("First name is required for email address generation","email");const t=e.toLowerCase().replace(/[^a-z0-9]/g,"").slice(0,20);if(0===t.length)throw new v("First name contains no valid characters for email generation","email");return`${t}@zenpay.com.au`}function D(){const e=`04${Math.floor(1e8*Math.random()).toString().padStart(8,"0")}`;return/^04\d{8}$/.test(e)?e:(console.warn("[generateRandomContactNumber] Invalid format generated, using default"),"0400000000")}function k(e=I,t=A){if(!Number.isFinite(e)||!Number.isFinite(t))throw new b("Amounts must be finite numbers",{minimumAmount:e,maximumAmount:t});if(e>=t)throw new b("Minimum amount must be less than maximum amount",{minimumAmount:e,maximumAmount:t});if(e<I||t>A)throw new b(`Payment amount must be between ${I} and ${A}`,{minimumAmount:e,maximumAmount:t});return(Math.random()*(t-e)+e).toFixed(O)}async function z(e,t){if(!e||0===e.trim().length)throw new P("No text content found to copy","copy");if(!navigator.clipboard?.writeText)throw new P("Clipboard API is unavailable","copy");await navigator.clipboard.writeText(e);const n=t?.button;if(n){const e=n.innerHTML,o=n.disabled,r=t?.durationMs??2e3;n.innerHTML='<i aria-hidden="true">âœ”ï¸Ž</i>',n.disabled=!0,n.setAttribute("aria-label","Copied successfully"),setTimeout((()=>{n.innerHTML=e,n.disabled=o,n.setAttribute("aria-label","Copy to clipboard")}),r)}}class U extends Error{constructor(e,t,n){super(e),this.operation=t,this.cause=n,this.name="CodePreviewError"}}function x(e){const t=document.querySelector(e);return t?.checked||!1}function q(e){const t=document.querySelector(`input[name="${e}"]:checked`);return t?parseInt(t.value,10):0}function V(){try{const e="1"===l.getValue("#modeSelect")?"600":i.options.minHeight.toString(),t=document.getElementById("minHeightInput");if(t){const n=t.value;n&&"600"!==n&&n!==i.options.minHeight.toString()||(t.value=e)}}catch(e){console.error("[updateMinHeightBasedOnMode] Error updating min height:",e)}}function R(){try{const e=l.getText("#codePreview");if(!e)throw new Error("Code preview is empty");const t=e.match(/\$\.zpPayment\(\{\s*([\s\S]*?)\s*\}\)/);if(!t||!t[1])throw new Error("Could not extract configuration from code preview");const n=t[1].split(",\n"),o={};return n.forEach((e=>{const t=e.trim().match(/^([^:]+):\s*(.+)$/);if(!t)return;let[,n,r]=t;n=n?.trim()||"",r=r?.trim()||"",r.startsWith('"')&&r.endsWith('"')?o[n]=r.substring(1,r.length-1):"true"===r?o[n]=!0:"false"===r?o[n]=!1:isNaN(Number(r))?o[n]=r:o[n]=Number(r)})),o.timeStamp&&(o.timestamp=o.timeStamp,delete o.timeStamp),console.debug("[parseCodePreviewConfig] Parsed config:",o),o}catch(e){throw console.error("[parseCodePreviewConfig] Error parsing code preview:",e),new U("Failed to parse code preview","parseCodePreviewConfig",e instanceof Error?e:void 0)}}const H=function(e,t,n=!1){if("function"!=typeof e)throw new Error("First argument must be a function");if(!Number.isFinite(t)||t<0)throw new Error("Wait time must be a non-negative number");let o,r=null,i=null;const a=()=>{const t=i,a=o;r=null,(!n&&t||n&&t)&&e.apply(a,t),i=null};return function(...s){o=this,i=s;const l=n&&!r;r&&clearTimeout(r),r=setTimeout(a,t),l&&e.apply(o,i)}}((async function(){try{const n=(new Date).toISOString().slice(0,19);let o=l.getValue("#merchantUniquePaymentIdInput");if(!o){const e=document.getElementById("merchantUniquePaymentIdInput");o=e?.placeholder||crypto.randomUUID()}const r=l.getValue("#apiKeyInput")||i.credentials.apiKey,a=l.getValue("#usernameInput")||i.credentials.username,s=l.getValue("#passwordInput")||i.credentials.password;let c=l.getValue("#paymentAmountInput");if(!c){const e=document.getElementById("paymentAmountInput");c=e?.placeholder||k(10,1e3)}const d=parseFloat(c),u=l.getValue("#modeSelect");let m="";try{r&&a&&s&&d&&u&&n&&o&&(m=await y(r,a,s,u,d.toString(),o,n))}catch(e){console.warn("[updateCodePreview] Could not generate fingerprint:",e)}const p=function(t){try{const{apiKey:e,paymentAmount:n,mode:o,timestamp:r,merchantUniquePaymentId:a,fingerprint:s}=t,c=l.getValue("#urlPreview"),d=l.getValue("#merchantCodeInput")||i.credentials.merchantCode;let u=l.getValue("#customerReferenceInput");if(!u){const e=document.getElementById("customerReferenceInput");u=e?.placeholder||crypto.randomUUID()}let m=l.getValue("#customerNameInput"),p=l.getValue("#customerEmailInput");if(!m){const e=document.getElementById("customerNameInput");if(m=e?.placeholder||"",!p){const e=document.getElementById("customerEmailInput");p=e?.placeholder||""}}let f=l.getValue("#contactNumberInput");if(!f){const e=document.getElementById("contactNumberInput");f=e?.placeholder||D()}let h=l.getValue("#additionalReferenceInput");if(!h){const e=document.getElementById("additionalReferenceInput");h=e?.placeholder||crypto.randomUUID()}const g=l.getValue("#redirectUrlInput")||i.extended.redirectUrl,y=l.getValue("#callbackUrlInput"),w=[`timeStamp: "${r}"`,`url: "${c}"`,`merchantCode: "${d}"`,`apiKey: "${e}"`,`fingerprint: "${s}"`,`paymentAmount: ${n}`,`merchantUniquePaymentId: "${a}"`,`mode: ${o}`,`redirectUrl: "${g}"`];u&&w.push(`customerReference: "${u}"`),m&&w.push(`customerName: "${m}"`),p&&w.push(`customerEmail: "${p}"`),y&&w.push(`callbackUrl: "${y}"`),h&&w.push(`additionalReference: "${h}"`),["allowBankAcOneOffPayment","allowPayToOneOffPayment","allowPayIdOneOffPayment","allowApplePayOneOffPayment","allowGooglePayOneOffPayment","allowSlicePayOneOffPayment","allowSaveCardUserOption"].forEach((e=>{x(`#${e}`)&&w.push(`${e}: true`)})),["sendConfirmationEmailToCustomer","sendConfirmationEmailToMerchant","hideTermsAndConditions","hideMerchantLogo"].forEach((e=>{x(`#${e}`)&&w.push(`${e}: true`)})),"1"===o&&(x("#showFeeOnTokenising")&&w.push("showFeeOnTokenising: true"),x("#showFailedPaymentFeeOnTokenising")&&w.push("showFailedPaymentFeeOnTokenising: true"));const E=q("userMode");0!==E&&w.push(`userMode: ${E}`);const v=q("overrideFeePayer");0!==v&&w.push(`overrideFeePayer: ${v}`);const b=q("displayMode");0!==b&&w.push(`displayMode: ${b}`);const P=parseInt(l.getValue("#minHeightInput"),10),C="1"===o?600:i.options.minHeight;if(P&&P!==C&&w.push(`minHeight: ${P}`),f&&w.push(`contactNumber: ${f}`),x("#allowSlicePayOneOffPayment")){const e=l.getValue("#departureDateInput");e&&w.push(`departureDate: "${e}"`)}let I=`var payment = $.zpPayment({\n    ${w.join(",\n    ")}\n});`;return I+="\n\npayment.init();",I.trim()}catch(e){throw new U("Failed to build code snippet","buildCodeSnippet",e instanceof Error?e:void 0)}}({apiKey:r,paymentAmount:"2"===u?0:Math.floor(100*d),mode:u,timestamp:n,merchantUniquePaymentId:o,fingerprint:m}),f=document.getElementById("codePreview");f&&(f.textContent=p,delete f.dataset.highlighted,t.highlightElement(f))}catch(e){throw console.error("[_updateCodePreviewInternal] Error updating code preview:",e),new U("Failed to update code preview","_updateCodePreviewInternal",e instanceof Error?e:void 0)}}),50);class K extends Error{constructor(e,t,n){super(e),this.selector=t,this.cause=n,this.name="PlaceholderError"}}const j={API_KEY:"#apiKeyInput",USERNAME:"#usernameInput",PASSWORD:"#passwordInput",MERCHANT_CODE:"#merchantCodeInput",PAYMENT_AMOUNT:"#paymentAmountInput",REDIRECT_URL:"#redirectUrlInput",CALLBACK_URL:"#callbackUrlInput",CUSTOMER_NAME:"#customerNameInput",CONTACT_NUMBER:"#contactNumberInput",CUSTOMER_EMAIL:"#customerEmailInput",CUSTOMER_REFERENCE:"#customerReferenceInput",MERCHANT_PAYMENT_ID:"#merchantUniquePaymentIdInput",ADDITIONAL_REFERENCE:"#additionalReferenceInput",MIN_HEIGHT:"#minHeightInput",DEPARTURE_DATE:"#departureDateInput"},J=Object.values(j),Y="has-placeholder",X="originalPlaceholder",W=e=>!!e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement);function Q(e){const t=e.value,n=e.dataset.originalPlaceholder||e.getAttribute("placeholder")||"";return{hasValue:t.trim().length>0,hasFocus:document.activeElement===e,originalPlaceholder:n}}const Z=new WeakMap,G=new WeakMap;function _(e=".form-floating input[placeholder], .form-floating textarea[placeholder]"){try{document.querySelectorAll(e).forEach((e=>{W(e)&&e.getAttribute("placeholder")&&function(e,t=!0,n=!0){const o=()=>{const o=Q(e);t&&function(e,t){t.hasValue?(e.classList.remove("has-placeholder"),e.setAttribute("placeholder","")):(e.classList.add("has-placeholder"),e.setAttribute("placeholder",t.originalPlaceholder))}(e,o),n&&function(e,t){t.hasValue?e.classList.remove("placeholder-as-value"):e.classList.add("placeholder-as-value")}(e,o)},r=Z.get(e);r&&(e.removeEventListener("input",r),e.removeEventListener("change",r),e.removeEventListener("blur",r));const i=G.get(e);if(i&&e.removeEventListener("focus",i),e.addEventListener("input",o),e.addEventListener("change",o),e.addEventListener("blur",o),Z.set(e,o),t){const t=()=>{const t=Q(e);t.hasValue||(e.classList.add(Y),e.setAttribute("placeholder",t.originalPlaceholder))};e.addEventListener("focus",t),G.set(e,t)}else G.delete(e);o(new Event("init"))}(e,!1,!0)}))}catch(t){throw new K("Failed to setup placeholder styling",e,t instanceof Error?t:void 0)}}class ee extends Error{constructor(e,t,n){super(e),this.listenerType=t,this.cause=n,this.name="EventListenerError"}}function te(e){return l.getValue(e)}const ne=globalThis.console,oe={log:ne.log.bind(ne),info:ne.info.bind(ne),debug:ne.debug.bind(ne),warn:ne.warn.bind(ne),error:ne.error.bind(ne),trace:ne.trace.bind(ne)};function re(e){const t=new WeakSet;try{return JSON.stringify(e,((e,n)=>{if("object"==typeof n&&null!==n){if(t.has(n))return"[Circular]";t.add(n)}return n}),2)??String(e)}catch{try{return String(e)}catch{return"[Unserializable]"}}}function ie(e,t){if(!e||0===e.length)return[""];const[n,...o]=e;if("string"==typeof n&&o.length>0){return[`%c${n}`,t,...o.map((e=>"object"!=typeof e||null===e||e instanceof Error?e:re(e)))]}if(1===e.length&&"object"==typeof n&&null!==n&&!(n instanceof Error))return[`%c${re(n)}`,t];return[`%c${e.map((e=>"object"==typeof e&&null!==e?re(e):String(e))).join(" ")}`,t]}globalThis.console.json=function(e){if("object"==typeof e&&null!==e)try{oe.log("%c"+re(e),"color:#22A222;")}catch{oe.log("%c[JSON error]","color:#FF0000;",e)}else oe.log(e)},console.log=function(...e){oe.log(...ie(e,"color:rgb(0, 255, 94);"))},console.error=function(...e){oe.error(...ie(e,"color:#FF0000;font-weight:bold;"))},console.debug=function(...e){oe.debug(...ie(e,"color:#1C94A8;"))},console.trace=function(){},console.warn=function(...e){oe.warn(...ie(e,"color:#FFA500;font-weight:bold;"))},console.info=function(...e){oe.info(...ie(e,"color:#0099FF;"))};const ae={log:console.log,info:console.info,warn:console.warn,error:console.error,debug:console.debug,trace:console.trace,json:console.json,setDebugMode(e){console.debug=e?function(...e){oe.debug(...ie(e,"color:#1C94A8;"))}:function(){}},setTraceMode(e){console.trace=e?function(...e){oe.trace(...ie(e,"color:#C922C9;"))}:function(){}}};function se(e){return function(t,n,o){const r=o.value;o.value=function(...t){try{return r.apply(this,t)}catch(n){throw ae.error(`[${e}] Error:`,n),new ee(`Failed to initialize ${e}`,e,n instanceof Error?n:void 0)}}}}const le="success",ce="danger",de="info";class ue extends Error{constructor(e,t){super(e),this.cause=t,this.name="ModalCreationError"}}function me(t,n,o=de,r=!1,i=3e3){try{const a=function(){try{let e=document.getElementById("appNotificationModal");return e||(e=document.createElement("div"),e.id="appNotificationModal",e.className="modal fade notification-modal",e.tabIndex=-1,e.setAttribute("aria-hidden","true"),e.innerHTML='\n        <div class="modal-dialog modal-dialog-centered notification-dialog">\n          <div class="modal-content notification-content">\n            <div class="modal-header notification-header">\n              <h5 class="modal-title"></h5>\n              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body notification-body"></div>\n            <div class="modal-footer notification-footer">\n              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>\n            </div>\n          </div>\n        </div>\n      ',document.body.appendChild(e)),e}catch(e){throw new ue("Failed to create or retrieve modal element",e instanceof Error?e:void 0)}}();!function(e,t,n,o){try{const r=e.querySelector(".modal-title"),i=e.querySelector(".modal-body"),a=e.querySelector(".modal-dialog"),s=e.querySelector(".modal-header");if(!(r&&i&&a&&s))throw new Error("Required modal elements not found");r.textContent=t,i.innerHTML=n,a.classList.remove("border","border-success","border-danger","border-warning","border-info"),s.classList.remove("bg-success","bg-danger","bg-warning","bg-info","text-white"),o&&s.classList.add(`bg-${o}`,"text-white")}catch(r){throw new ue("Failed to update modal content",r instanceof Error?r:void 0)}}(a,t,n,o);const s=new e.Modal(a);return s.show(),r&&i>0&&setTimeout((()=>{s.hide()}),i),s}catch(a){throw console.error("[showModal] Error displaying modal:",a),new ue(`Failed to show modal: ${t}`,a instanceof Error?a:void 0)}}function pe(e,t,n=!0){return me(e,t,le,n)}function fe(e,t,n=!1){return me(e,t,ce,n)}class he extends Error{constructor(e,t,n){super(e),this.operation=t,this.cause=n,this.name="DownloadError"}}function ge(e){try{const t=document.querySelector(e);t?(l.on(e,"click",(function(){t.disabled?fe("Missing Credentials","Please fill in API Key, Username, Password, and Merchant Code to download the demo."):async function(){try{const e=document.getElementById("apiKeyInput"),t=document.getElementById("usernameInput"),n=document.getElementById("passwordInput"),o=document.getElementById("merchantCodeInput"),r=document.getElementById("urlPreview"),a=document.getElementById("modeSelect"),s=e?.value||i.credentials.apiKey,l=t?.value||i.credentials.username,c=n?.value||i.credentials.password,d=o?.value||i.credentials.merchantCode,u=r?.value||"https://sandbox.zenpay.com",m=a?.value,p="",f=(R(),{apiKey:s,username:l,password:c,merchantCode:d,gateway:u,mode:m,codeSnippet:p}),h=await fetch("/build/index.html",{method:"HEAD"}).catch((()=>null));if(!h||!h.ok)return void me("Build Required",'Please run "npm run build" before downloading the standalone demo.',"warning");Promise.all([fetch("/build/index.html").then((e=>{if(!e.ok)throw new Error("Failed to load index.html");return e.text()})),fetch("/build/css/bundle.min.css").then((e=>{if(!e.ok)throw new Error("Failed to load CSS");return e.text()})),fetch("/build/js/bundle.min.js").then((e=>{if(!e.ok)throw new Error("Failed to load JS");return e.text()})),fetch("/public/jq-input-parameters.json").then((e=>e.text())).catch((()=>"[]")),fetch("/public/jq-output-parameters.json").then((e=>e.text())).catch((()=>"{}")),fetch("/public/jq-error-codes.json").then((e=>e.text())).catch((()=>"[]"))]).then((([e,t,n,o,r,i])=>{const a=function(e,t,n,o,r){const{apiKey:i,username:a,password:s,merchantCode:l}=e;return`\n<script>\n// Inline data files to avoid fetch errors\nwindow.__ZENPAY_DATA__ = {\n  inputParameters: ${n},\n  outputParameters: ${o},\n  errorCodes: ${r}\n};\n\n// Intercept fetch calls to return inlined data\nconst originalFetch = window.fetch;\nwindow.fetch = function(url, options) {\n  if (url === '/public/jq-input-parameters.json') {\n    return Promise.resolve(new Response(JSON.stringify(window.__ZENPAY_DATA__.inputParameters), {\n      status: 200,\n      headers: { 'Content-Type': 'application/json' }\n    }));\n  }\n  if (url === '/public/jq-output-parameters.json') {\n    return Promise.resolve(new Response(JSON.stringify(window.__ZENPAY_DATA__.outputParameters), {\n      status: 200,\n      headers: { 'Content-Type': 'application/json' }\n    }));\n  }\n  if (url === '/public/jq-error-codes.json') {\n    return Promise.resolve(new Response(JSON.stringify(window.__ZENPAY_DATA__.errorCodes), {\n      status: 200,\n      headers: { 'Content-Type': 'application/json' }\n    }));\n  }\n  return originalFetch.apply(this, arguments);\n};\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  // Pre-fill ONLY credentials (4 fields)\n  const apiKeyField = document.getElementById('apiKeyInput');\n  if (apiKeyField) apiKeyField.value = "${i}";\n\n  const usernameField = document.getElementById('usernameInput');\n  if (usernameField) usernameField.value = "${a}";\n\n  const passwordField = document.getElementById('passwordInput');\n  if (passwordField) passwordField.value = "${s}";\n\n  const merchantCodeField = document.getElementById('merchantCodeInput');\n  if (merchantCodeField) merchantCodeField.value = "${l}";\n\n  console.log('ZenPay standalone configuration loaded successfully');\n});\n<\/script>`}(f,0,o,r,i);let s=e;s=s.replace(/<script[^>]*src="[^"]*\/@vite\/client[^"]*"[^>]*><\/script>/gi,""),s=s.replace(/<script[^>]*src="[^"]*\/src\/ts\/index\.ts[^"]*"[^>]*><\/script>/gi,""),s=s.replace(/<link[^>]*href="[^"]*\/css\/bundle(?:\.min)?\.css"[^>]*>/gi,""),s=s.replace(/<script[^>]*src="[^"]*\/js\/bundle(?:\.min)?\.js"[^>]*><\/script>/gi,""),s=s.replace(/<link[^>]*href="[^"]*favicon[^"]*"[^>]*>/gi,""),s=s.replace(/<!--\s*Custom CSS is imported via TypeScript[^>]*-->/gi,""),s=s.replace(/^\s*[\r\n]/gm,"");const l=s.indexOf("</head>");-1!==l&&(s=s.substring(0,l)+`\n<style>\n${t}\n</style>\n`+s.substring(l));const c=s.lastIndexOf("</body>");if(-1===c)throw new Error("Could not find </body> tag in HTML");s=s.substring(0,c)+`\n<script>\n${n}\n<\/script>\n`+a+"\n"+s.substring(c);const u=new Blob([s],{type:"text/html"}),m=URL.createObjectURL(u),p=document.createElement("a");p.href=m,p.download=`ZenPay-Singlefile-${d||"Demo"}.html`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(m),console.log("[downloadStandaloneDemo] Download completed successfully")})).catch((e=>{throw console.error("[downloadStandaloneDemo] Error preparing download:",e),fe("Download Failed","Could not create standalone file. Please ensure the application is running properly."),new he("Failed to prepare download","downloadStandaloneDemo",e instanceof Error?e:void 0)}))}catch(e){throw console.error("[downloadStandaloneDemo] Error preparing download:",e),fe("Download Failed","An error occurred while preparing the download."),new he("Failed to prepare download","downloadStandaloneDemo",e instanceof Error?e:void 0)}}()})),console.log(`[initDownloadFunctionality] Download button initialized: ${e}`)):console.warn(`[initDownloadFunctionality] Download button not found: ${e}`)}catch(t){throw console.error("[initDownloadFunctionality] Error initializing download functionality:",t),new he("Failed to initialize download functionality","initDownloadFunctionality",t instanceof Error?t:void 0)}}const ye=void 0!==globalThis.sessionStorage?globalThis.sessionStorage:null,we="ZPSC",Ee="ZPS",ve=new WeakMap;function be(e){const t=ve.get(e);return t||e.value}function Pe(e,t){ve.set(e,t),e.value=function(e){if(!e||e.length<=4)return"****";if(/^\w{2}\*+\w{2}$/.test(e))return e;const t=e.slice(0,2),n=e.slice(-2),o=e.length-4;return`${t}${"*".repeat(Math.max(4,o))}${n}`}(t),e.dataset.obfuscated="true"}function Ce(e){"true"===e.dataset.obfuscated&&function(e){const t=ve.get(e);t&&(e.value=t,delete e.dataset.obfuscated)}(e)}function Ie(e){e.value&&Pe(e,e.value)}function Ae(e,t,n,o){if(!ye)return;const r=T(L({apiKey:e||"",username:t||"",password:n||"",merchantCode:o||""}));ye.setItem(we,r)}function Oe(e){const t=document.getElementById(e);return t?.checked||!1}function Se(e){const t=document.querySelector(`input[name="${e}"]:checked`);return t?parseInt(t.value,10):0}const Le="local",Me="session",Te=void 0!==globalThis.localStorage?globalThis.localStorage:null;function Be(e){return e===Le?Te:ye}function Ne(e,t=null,n=Me){const o=Be(n);if(!o)return t;const r=o.getItem(e);if(!r)return t;try{const e=B(r),n=M(e);return null!==n?n:null!==e?e:t}catch(i){return console.error(`[getFromStorage] Failed to decode base64 for key "${e}":`,i),t}}function Fe(e,t){if(!ye)return t??null;const n=ye.getItem(e);if(!n)return t??null;try{const e=B(n),o=M(e);return null!==o?o:null!==e?e:t??null}catch(o){return console.error(`[getFromSession] Failed to decode base64 for key "${e}":`,o),t??null}}class De extends Error{constructor(e,t,n){super(e),this.operation=t,this.cause=n,this.name="PaymentUrlBuilderError"}}function ke(e){const{subdomain:t,domain:n,version:o}=e;return`https://${t}.${n}.com.au/online/${o}`}function ze(){try{const n=l.getValue("#domainSelect"),o=l.getValue('input[name="subdomain"]:checked');if(!n||!o)return void console.warn("[updateRedirectUrlInForm] URL builder modal not initialized yet, skipping redirect URL update");const{redirectUrl:r,callbackUrl:i}={redirectUrl:`https://${e=o}.${t=n}.com.au/demo/`,callbackUrl:`https://${e}.${t}.com.au/callback/`},a=document.querySelector("#redirectUrlInput");a&&a.setAttribute("placeholder",r);const c=document.querySelector("#callbackUrlInput");c&&c.setAttribute("placeholder",i),s.redirectUrl=r,"function"==typeof H&&H(),console.log("[updateRedirectUrlInForm] Redirect URL updated:",r)}catch(n){const e=n instanceof De?n:new De("Failed to update redirect URL in form","update",n instanceof Error?n:void 0);throw console.error("[updateRedirectUrlInForm]",e.message,n),e}var e,t}function Ue(){try{const e=document.querySelector('input[name="subdomain"]:checked'),t=document.getElementById("domainSelect"),n=document.querySelector('input[name="version"]:checked');if(!e||!t||!n)return void console.warn("[updatePaymentUrlPreviewDisplay] URL builder form elements not yet available, skipping update");const o={subdomain:e.value,domain:t.value,version:n.value},r=ke(o),i=document.getElementById("urlPreview");i&&(i.value=r);const a=document.getElementById("modalUrlPreview");a&&(a.value=r),ze(),"function"==typeof H&&H(),console.log("[updatePaymentUrlPreviewDisplay] URL preview updated:",r)}catch(e){throw console.error("[updatePaymentUrlPreviewDisplay] Error updating URL preview:",e),e}}async function xe(){const e=document.getElementById("modalUrlPreview"),t=document.getElementById("modalCopyUrlBtn");if(e&&t)try{await z(e.value,{button:t}),console.log("[copyUrlFromModalToClipboard] URL copied to clipboard:",e.value)}catch(n){console.error("[copyUrlFromModalToClipboard] Failed to copy URL:",n),alert("Failed to copy URL. Please select and copy manually.")}else console.warn("[copyUrlFromModalToClipboard] Modal elements not found")}function qe(e=!0){try{const t={subdomain:Fe(n,i.url.subdomain),domain:Fe(o,i.url.domain),version:Fe(r,i.url.version)},a=ke(t),s=document.getElementById("urlPreview");s&&(s.value=a),function(){const e=globalThis.document;if(!e)return;const t=e.getElementById("urlBuilderModal"),n=e.getElementById("urlBuilderBtn");if(console.log("[setupUrlBuilderEventListeners] Modal element found:",!!t),console.log("[setupUrlBuilderEventListeners] Button found:",!!n),!t)return void console.error("[setupUrlBuilderEventListeners] urlBuilderModal element not found in DOM");const o=new window.bootstrap.Modal(t);console.log("[setupUrlBuilderEventListeners] Bootstrap Modal instance created"),e.querySelectorAll('input[name="subdomain"]').forEach((e=>{e.addEventListener("change",Ue)}));const r=e.getElementById("domainSelect");r&&r.addEventListener("change",Ue),e.querySelectorAll('input[name="version"]').forEach((e=>{e.addEventListener("change",Ue)}));const i=e.getElementById("modalCopyUrlBtn");i&&i.addEventListener("click",xe);const a=e.getElementById("applyUrlChanges");a&&a.addEventListener("click",(()=>{console.log("[setupUrlBuilderEventListeners] Applying URL changes from modal"),Ue(),o.hide()})),n?(n.addEventListener("click",(()=>{console.log("[setupUrlBuilderEventListeners] URL Builder button clicked, showing modal"),o.show()})),console.log("[setupUrlBuilderEventListeners] Click listener attached to URL Builder button")):console.warn("[setupUrlBuilderEventListeners] urlBuilderBtn not found, modal can only open programmatically")}(),e&&(!function(e){const t=document.querySelector(`input[name="subdomain"][value="${e.subdomain}"]`);t&&(t.checked=!0);const n=document.getElementById("domainSelect");n&&(n.value=e.domain);const o=document.querySelector(`input[name="version"][value="${e.version}"]`);o&&(o.checked=!0)}(t),console.log("[initializePaymentUrlBuilder] Configuration restored from session:",t)),Ue(),console.log("[initializePaymentUrlBuilder] URL builder initialized successfully")}catch(t){console.error("[initializePaymentUrlBuilder] Error initializing URL builder:",t)}}class Ve extends Error{constructor(e,t,n){super(e),this.operation=t,this.cause=n,this.name="ExtendedOptionsError"}}const Re={generateCustomerData:!0,generateUuids:!0,setupEventListeners:!0,updateRedirectUrl:!0},He={redirectUrlInput:"redirectUrl",callbackUrlInput:"callbackUrl",customerNameInput:"customerName",customerReferenceInput:"customerReference",customerEmailInput:"customerEmail",merchantUniquePaymentIdInput:"merchantUniquePaymentId",contactNumberInput:"contactNumber"};function Ke(e,t){try{s[e]=t}catch(n){console.warn(`[updateExtendedOptionsProperty] Failed to update property ${e}:`,n)}}function je(){try{const e=N(),t=F(e.firstName),n=s.contactNumber||"0400001002";[{selector:j.CUSTOMER_NAME,value:e.fullName,property:"customerName"},{selector:j.CUSTOMER_EMAIL,value:t,property:"customerEmail"},{selector:j.CONTACT_NUMBER,value:n,property:"contactNumber"}].forEach((({selector:e,value:t,property:n})=>{!function(e,t){try{return l.setValue(e,t),!0}catch{return!1}}(e,t)?console.warn(`[generateCustomerData] Form field not found: ${e}`):Ke(n,t)})),console.log("[generateCustomerData] Customer data generated successfully:",{name:e.fullName,email:t,contact:n})}catch(e){throw new Ve("Failed to generate customer data","generate",e instanceof Error?e:void 0)}}function Je(){try{Object.entries(He).forEach((([e,t])=>{const n=`#${e}`,o=document.querySelector(n);if(o){o.getAttribute("data-extended-options-handler")&&o.removeEventListener("blur",o._extendedOptionsHandler);const e=()=>{try{const e=function(e){return l.getValue(e)}(n);Ke(t,e),"function"==typeof H&&H()}catch(e){console.error(`[setupExtendedOptionsEventListeners] Error handling blur for ${n}:`,e)}};o._extendedOptionsHandler=e,o.addEventListener("blur",e),o.setAttribute("data-extended-options-handler","true")}}));const e=document.querySelector("#domainSelect");if(e){e.getAttribute("data-extended-options-domain-handler")&&e.removeEventListener("change",e._extendedOptionsDomainHandler);const t=()=>{try{ze()}catch(e){console.error("[setupExtendedOptionsEventListeners] Error updating redirect URL:",e)}};e._extendedOptionsDomainHandler=t,e.addEventListener("change",t),e.setAttribute("data-extended-options-domain-handler","true")}console.log(`[setupExtendedOptionsEventListeners] Set up event listeners for ${Object.keys(He).length} form fields`)}catch(e){throw new Ve("Failed to setup extended options event listeners","setup",e instanceof Error?e:void 0)}}function Ye(e,t){const{element:n,enabledTitle:o,disabledTitle:r,enabledClass:i="",disabledClass:a="btn-disabled"}=e;if(n)if(t){n.removeAttribute("disabled"),l.removeClass(n,a),i&&l.addClass(n,i),n.setAttribute("title",o);const e=n.querySelector(".btn-text");e&&(e.textContent=o)}else{n.setAttribute("disabled","disabled"),l.addClass(n,a),i&&l.removeClass(n,i),n.setAttribute("title",r);const e=n.querySelector(".btn-text");e&&(e.textContent=r)}else console.warn("[updateButtonState] Button element not found")}function Xe(){try{const e=function(){const e=te(j.API_KEY),t=te(j.USERNAME),n=te(j.PASSWORD),o=te(j.MERCHANT_CODE);return!!(e&&t&&n&&o)}(),t={element:document.querySelector("#downloadDemoBtn"),enabledTitle:"Download Demo",disabledTitle:"Fill in credentials first",enabledClass:"btn-primary",disabledClass:"btn-secondary"},n={element:document.querySelector("#initializePlugin"),enabledTitle:"Initialize Plugin",disabledTitle:"Fill in credentials first",enabledClass:"btn-success",disabledClass:"btn-secondary"};Ye(t,e),Ye(n,e)}catch(e){throw new ee("Failed to update action button states","buttonState",e instanceof Error?e:void 0)}}class We extends Error{constructor(e,t,n,o){super(e),this.operation=t,this.fileName=n,this.cause=o,this.name="FileInputError"}}const Qe={accept:".json",multiple:!1,maxSize:1048576},Ze=["apiKey","username","password","merchantCode"];function Ge(e,t){try{const n=[{selector:"#apiKeyInput",value:e.apiKey},{selector:"#usernameInput",value:e.username},{selector:"#passwordInput",value:e.password},{selector:"#merchantCodeInput",value:e.merchantCode}];let o=0;if(n.forEach((({selector:e,value:t})=>{const n=function(e){return document.querySelector(e)||null}(e);n&&(l.setValue(e,t),o++)})),o!==n.length)throw new We(`Only ${o} of ${n.length} fields could be populated`,"apply",t);!function(){try{const e=l.getValue("#apiKeyInput"),t=l.getValue("#usernameInput"),n=l.getValue("#passwordInput"),o=l.getValue("#merchantCodeInput");Ae(e.trim()||"",t.trim()||"",n.trim()||"",o.trim()||"")}catch(e){throw new We("Failed to save credentials to session","apply",void 0,e instanceof Error?e:void 0)}}(),H(),Xe(),pe("Configuration Loaded",`Successfully loaded configuration from <strong>${t}</strong>`,!0)}catch(n){throw new We("Failed to apply configuration to form","apply",t,n instanceof Error?n:void 0)}}async function $e(e,t){try{const n=function(e,t){try{const n=JSON.parse(e);if(!n||"object"!=typeof n)throw new We("Configuration must be a valid JSON object","parse",t);return n}catch(n){if(n instanceof We)throw n;throw new We(`Failed to parse JSON: ${n instanceof Error?n.message:"Unknown error"}`,"parse",t,n instanceof Error?n:void 0)}}(e,t),o=function(e){try{if(!e||"object"!=typeof e)return{isValid:!1,error:"Configuration must be a valid object"};const t=e;for(const e of Ze){if(!Object.prototype.hasOwnProperty.call(t,e))return{isValid:!1,error:`Missing required field: ${e}`};const n=t[e];if("string"!=typeof n||""===n.trim())return{isValid:!1,error:`Field '${e}' must be a non-empty string`}}return{isValid:!0,config:t}}catch(t){return{isValid:!1,error:`Validation error: ${t instanceof Error?t.message:"Unknown error"}`}}}(n);if(!o.isValid)return void fe("Invalid Configuration",`Configuration must include non-empty string values for: ${Ze.join(", ")}.\n\nError: ${o.error}`);Ge(o.config,t)}catch(n){console.error("[processFileContent] Error processing file:",n),fe("Load Failed",n instanceof We?n.message:`Failed to process file: ${n instanceof Error?n.message:"Unknown error"}`)}}async function _e(e,t=Qe){try{!function(e,t=Qe){const n=t.maxSize||Qe.maxSize;if(e.size>n)throw new We(`File size (${(e.size/1024).toFixed(1)}KB) exceeds maximum allowed size (${(n/1024).toFixed(1)}KB)`,"validate",e.name);if(t.accept&&!e.name.toLowerCase().endsWith(".json"))throw new We("Only JSON files are supported","validate",e.name)}(e,t);const n=await new Promise(((t,n)=>{const o=new FileReader;o.onload=e=>{const o=e.target?.result;"string"==typeof o?t(o):n(new Error("Failed to read file as text"))},o.onerror=()=>{n(new Error("File reading failed"))},o.readAsText(e)}));await $e(n,e.name)}catch(n){console.error("[handleFileSelection] Error handling file selection:",n),fe("File Error",n instanceof We?n.message:`Failed to process file: ${n instanceof Error?n.message:"Unknown error"}`)}}let et=null;async function tt(){if(et)return et;try{const e=await fetch("/public/jq-error-codes.json");if(!e.ok)throw new Error(`Failed to load error codes: ${e.statusText}`);const t=function(e){return e.map((e=>({code:e.code,category:nt(e.code),description:e.description,possibleCauses:ot(e.code),troubleshootingTips:rt(e.code)})))}(await e.json());return et=t,t}catch(e){return console.error("Error loading error codes:",e),me("Error Loading Error Codes","Failed to load error codes. Please check your connection and try again.","danger"),[]}}function nt(e){return e.startsWith("E01")||e.startsWith("E02")?"Authentication":e.startsWith("E03")||e.startsWith("E04")?"Validation":e.startsWith("E05")||e.startsWith("E06")?"Security":e.startsWith("E07")||e.startsWith("E08")?"Account":e.startsWith("E09")||e.startsWith("E10")?"Configuration":"Other"}function ot(e){return{E01:["Missing or invalid API key","Incorrect authentication credentials"],E02:["Invalid merchant code","Merchant account not found"],E03:["Invalid payment amount","Amount exceeds limits"],E04:["Invalid card details","Card number format error"],E05:["Security violation detected","Suspicious transaction pattern"],E06:["Invalid fingerprint","Hash calculation error"],E07:["Account suspended","Insufficient permissions"],E08:["Account not found","Invalid account reference"],E09:["Configuration error","Missing required settings"],E10:["System configuration issue","Service unavailable"]}[e]||["Unknown error","Please contact support"]}function rt(e){return{E01:["Verify API key is correct","Check authentication credentials"],E02:["Confirm merchant code","Contact support for account verification"],E03:["Check payment amount format","Verify amount is within limits"],E04:["Validate card number format","Check card expiration date"],E05:["Review transaction details","Contact security team if needed"],E06:["Recalculate fingerprint hash","Verify hash algorithm"],E07:["Check account status","Contact account manager"],E08:["Verify account reference","Check account configuration"],E09:["Review system settings","Check configuration files"],E10:["Check system status","Contact technical support"]}[e]||["Review error details","Contact support for assistance"]}async function it(){return await tt()}async function at(){const t=globalThis.document;if(!t)return;const n=t.getElementById("errorCodesModal"),o=t.getElementById("errorSearchInput"),r=t.getElementById("errorCodesTableBody"),i=t.getElementById("errorCodesBtn");if(!n||!r)return void console.warn("[errorCodes] Required DOM elements not found");const a=new e.Modal(n),s=async()=>{const e=await async function(e){const t=await it();if(!e.trim())return t;const n=e.toLowerCase();return t.filter((e=>e.code.toLowerCase().includes(n)||e.description.toLowerCase().includes(n)||e.category.toLowerCase().includes(n)))}(o?.value??"");await async function(e,t){if(!e.length)return void(t.innerHTML='<tr><td colspan="3" class="text-center text-muted">No error codes found.</td></tr>');const n=e.map((e=>`\n\t\t<tr>\n\t\t\t<td><code class="text-danger">${e.code}</code></td>\n\t\t\t<td><span class="badge bg-secondary">${e.category}</span></td>\n\t\t\t<td>${e.description}</td>\n\t\t</tr>\n\t`)).join("");t.innerHTML=n}(e,r)};o&&o.addEventListener("input",s),i&&i.addEventListener("click",(async()=>{o&&(o.value=""),await s(),a.show()})),window.errorCodesRerender=s,window.errorCodesModal=a,window.errorCodesSearchInput=o;const l=await it();console.log("[errorCodes] Modal initialized with",l.length,"error codes")}let st=null;async function lt(){return await async function(){if(st)return st;try{const e=await fetch("/public/jq-input-parameters.json");if(!e.ok)throw new Error(`Failed to load input parameters: ${e.statusText}`);const t=(await e.json()).map((e=>({name:e.name,type:e.type,required:"Required"===e.conditional,condition:"Required"===e.conditional?null:e.conditional,description:e.remarks,default:null})));return st=t,t}catch(e){return console.error("Error loading input parameters:",e),me("Error Loading Parameters","Failed to load input parameters. Please check your connection and try again.","danger"),[]}}()}async function ct(){const t=globalThis.document;if(!t)return;const n=t.getElementById("inputParametersModal"),o=t.getElementById("inputParamSearchInput"),r=t.getElementById("inputParametersContent"),i=t.getElementById("inputParametersBtn");if(!n||!r)return void console.warn("[inputParameters] Required DOM elements not found");const a=new e.Modal(n),s=async()=>{const e=await async function(e){const t=await lt();if(!e.trim())return t;const n=e.toLowerCase();return t.filter((e=>e.name.toLowerCase().includes(n)||e.description.toLowerCase().includes(n)||e.type.toLowerCase().includes(n)))}(o?.value??"");await async function(e,t){if(!e.length)return void(t.innerHTML='<p class="text-muted">No parameters found.</p>');const n=e.map((e=>`\n\t\t<div class="parameter-item mb-3 p-3 border rounded">\n\t\t\t<div class="d-flex justify-content-between align-items-start mb-2">\n\t\t\t\t<h6 class="mb-0 text-primary">${e.name}</h6>\n\t\t\t\t<span class="badge ${e.required?"bg-danger":"bg-secondary"}">${e.required?"Required":"Optional"}</span>\n\t\t\t</div>\n\t\t\t<div class="mb-2">\n\t\t\t\t<strong>Type:</strong> <code>${e.type}</code>\n\t\t\t\t${e.condition?`<br><strong>Condition:</strong> ${e.condition}`:""}\n\t\t\t</div>\n\t\t\t<div class="text-muted">\n\t\t\t\t${e.description}\n\t\t\t</div>\n\t\t</div>\n\t`)).join("");t.innerHTML=n}(e,r)};o&&o.addEventListener("input",s),i&&i.addEventListener("click",(async()=>{o&&(o.value=""),await s(),a.show()})),window.inputParametersRerender=s,window.inputParametersModal=a,window.inputParametersSearchInput=o;const l=await lt();console.log("[inputParameters] Modal initialized with",l.length,"parameters")}function dt(e){const t=window.inputParametersModal,n=window.inputParametersSearchInput,o=window.inputParametersRerender;t&&n&&o?(n.value=e,o(),t.show()):console.warn("[inputParameters] Modal not initialized")}let ut=null;async function mt(){return await async function(){if(ut)return ut;try{const t=await fetch("/public/jq-output-parameters.json");if(!t.ok)throw new Error(`Failed to load output parameters: ${t.statusText}`);const n=[...(e=await t.json()).mode02,...e.mode1].map((e=>({name:e.parameter,type:"string",required:!0,condition:null,description:e.value,default:null})));return ut=n,n}catch(t){return console.error("Error loading output parameters:",t),me("Error Loading Parameters","Failed to load output parameters. Please check your connection and try again.","danger"),[]}var e}()}async function pt(){const t=globalThis.document;if(!t)return;const n=t.getElementById("outputParametersModal"),o=t.getElementById("outputParamSearchInput"),r=t.getElementById("outputParametersContent"),i=t.getElementById("outputParametersBtn");if(!n||!r)return void console.warn("[outputParameters] Required DOM elements not found");const a=new e.Modal(n),s=async()=>{const e=await async function(e){const t=await mt();if(!e.trim())return t;const n=e.toLowerCase();return t.filter((e=>e.name.toLowerCase().includes(n)||e.description.toLowerCase().includes(n)||e.type.toLowerCase().includes(n)))}(o?.value??"");await async function(e,t){if(!e.length)return void(t.innerHTML='<p class="text-muted">No parameters found.</p>');const n=e.map((e=>`\n\t\t<div class="parameter-item mb-3 p-3 border rounded">\n\t\t\t<div class="d-flex justify-content-between align-items-start mb-2">\n\t\t\t\t<h6 class="mb-0 text-primary">${e.name}</h6>\n\t\t\t\t<span class="badge ${e.required?"bg-danger":"bg-secondary"}">${e.required?"Required":"Optional"}</span>\n\t\t\t</div>\n\t\t\t<div class="mb-2">\n\t\t\t\t<strong>Type:</strong> <code>${e.type}</code>\n\t\t\t\t${e.condition?`<br><strong>Condition:</strong> ${e.condition}`:""}\n\t\t\t</div>\n\t\t\t<div class="text-muted">\n\t\t\t\t${e.description}\n\t\t\t</div>\n\t\t</div>\n\t`)).join("");t.innerHTML=n}(e,r)};o&&o.addEventListener("input",s),i&&i.addEventListener("click",(async()=>{o&&(o.value=""),await s(),a.show()})),window.outputParametersRerender=s,window.outputParametersModal=a,window.outputParametersSearchInput=o;const l=await mt();console.log("[outputParameters] Modal initialized with",l.length,"parameters")}class ft extends Error{constructor(e,t,n){super(e),this.listenerType=t,this.cause=n,this.name="EmailConfirmationError"}}function ht(){try{const e=document.getElementById("sendEmailConfirmationToMerchant"),t=document.getElementById("sendEmailConfirmationToCustomer"),n=()=>{try{const n={sendEmailConfirmationToMerchant:Boolean(e?.checked),sendEmailConfirmationToCustomer:Boolean(t?.checked)};console.log(`[initEmailConfirmationListeners] paymentConfig: ${JSON.stringify(n)}`),H()}catch(n){console.error("[initEmailConfirmationListeners] Error handling email confirmation change:",n)}};e?.addEventListener("change",n),t?.addEventListener("change",n)}catch(e){throw new ft("Failed to initialize email confirmation listeners","emailConfirmation",e instanceof Error?e:void 0)}}class gt extends Error{constructor(e,t,n){super(e),this.name="ZenPayValidationError",this._field=t,this._value=n}get field(){return this._field}get value(){return this._value}}class yt extends Error{constructor(e,t){super(e,t),this.name="ZenPayInitializationError"}}async function wt(){try{const e=R(),t=document.getElementById("usernameInput"),n=document.getElementById("passwordInput"),o=t?be(t):"",r=n?be(n):"",i={...e,username:o,password:r,apiKey:e.apiKey||"",paymentAmount:e.paymentAmount||0,mode:e.mode||0,fingerprint:e.fingerprint||"",merchantUniquePaymentId:e.merchantUniquePaymentId||""},a=(i.paymentAmount/100).toFixed(2);!function(e,t){if(!e||0===e.trim().length)throw new gt("Username is required for initialization","username",e);if(!t||0===t.trim().length)throw new gt("Password is required for initialization","password",t)}(o,r),function(e){if(!e||"<<API-KEY>>"===e||0===e.trim().length)throw new gt("A valid API Key is required for initialization","apiKey",e)}(i.apiKey);const s=(new Date).toISOString().slice(0,19);e.timestamp=s;const l={apiKey:i.apiKey,username:o,password:r,mode:String(i.mode),paymentAmount:a,merchantUniquePaymentId:i.merchantUniquePaymentId,timestamp:s},c=await w(l);!function(e){if(!e||0===e.trim().length)throw new gt("Failed to generate security fingerprint. Please check API credentials.","fingerprint",e)}(c),e.fingerprint=c,e.paymentAmount=parseFloat(a);const d=document.getElementById("minHeightInput")?.value?.trim()||"";d&&(i.minHeight=parseInt(d,10)),window.zpV3CompatMode?.omitMerchantCodeFromPayload&&(console.warn("[initializeZenPayPlugin] âš ï¸ V3 Compat Mode: Omitting merchantCode from payload"),delete e.merchantCode),window.zpV3CompatMode?.omitTimestampFromHash&&(console.warn("[initializeZenPayPlugin] âš ï¸ V3 Compat Mode: Omitting timestamp from payload"),delete e.timestamp),Ae(i.apiKey,o,r,i.merchantCode||"");!function(e){if(!ye)return;const t=document.getElementById("modeSelect"),n=t?.value||"0",o=document.getElementById("departureDateInput"),r=o?.value||"",i=T(L({paymentMethods:{allowBankAcOneOffPayment:Oe("allowBankAcOneOffPayment"),allowPayToOneOffPayment:Oe("allowPayToOneOffPayment"),allowPayIdOneOffPayment:Oe("allowPayIdOneOffPayment"),allowApplePayOneOffPayment:Oe("allowApplePayOneOffPayment"),allowGooglePayOneOffPayment:Oe("allowGooglePayOneOffPayment"),allowSlicePayOneOffPayment:Oe("allowSlicePayOneOffPayment"),allowSaveCardUserOption:Oe("allowSaveCardUserOption")},options:{sendConfirmationEmailToCustomer:Oe("sendConfirmationEmailToCustomer"),sendConfirmationEmailToMerchant:Oe("sendConfirmationEmailToMerchant"),hideTermsAndConditions:Oe("hideTermsAndConditions"),hideMerchantLogo:Oe("hideMerchantLogo"),userMode:Se("userMode"),overrideFeePayer:Se("overrideFeePayer"),showFeeOnTokenising:Oe("showFeeOnTokenising"),showFailedPaymentFeeOnTokenising:Oe("showFailedPaymentFeeOnTokenising"),displayMode:Se("displayMode")},callbackUrl:e||"",mode:n,departureDate:r}));ye.setItem(Ee,i),console.log("[saveState] Payment state saved to session storage")}(document.getElementById("callbackUrlInput")?.value||""),console.log("[initializeZenPayPlugin] Saved credentials and complete form state to session storage");const u=function(){console.log("[onPluginClose] Plugin closed, sending log via fetch...");const e={merchantUniquePaymentId:this.options.merchantUniquePaymentId,event:"pluginClosed",at:(new Date).toISOString()};fetch("/api/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw new Error(`Network response was not ok: ${e.statusText}`);return e.json()})).then((e=>{console.log("[onPluginClose] Log sent successfully:",e)})).catch((e=>{console.error("[onPluginClose] Error sending log:",e)}))};e.onPluginClose=u;const m=$.zpPayment(e);console.log("[initializeZenPayPlugin] ðŸ‘‡ ZP Payload ðŸ‘‡"),console.info(e),console.log(""),console.log("[initializeZenPayPlugin] ðŸ‘‡ Payment object initialized ðŸ‘‡"),console.info(m.options);if(void 0===m.init())throw new yt("Plugin initialization returned undefined. Please check the configuration and try again.");console.log("[initializeZenPayPlugin] Plugin initialization completed successfully")}catch(e){if(console.error("[initializeZenPayPlugin] Error initializing plugin:",e),e instanceof gt)throw fe("Validation Error",e.message),e;{const t=new yt("Unable to initialize plugin. See console for details.",e instanceof Error?{cause:e}:void 0);throw fe("Initialization Error",t.message),t}}}var Et=Object.defineProperty,vt=Object.getOwnPropertyDescriptor,bt=(e,t,n,o)=>{for(var r,i=vt(t,n),a=e.length-1;a>=0;a--)(r=e[a])&&(i=r(t,n,i)||i);return i&&Et(t,n,i),i};class Pt{initFormListeners(){const e=e=>{H(),Xe()};[j.API_KEY,j.USERNAME,j.PASSWORD,j.MERCHANT_CODE].forEach((t=>{document.querySelector(t)&&l.on(t,"blur",e)}));const t=document.getElementById("paymentAmountInput");t?.addEventListener("blur",(function(){const e=this.value??"",t=function(e){const t=Number(e);return Number.isFinite(t)?t.toFixed(O):"0.00"}(Number.parseFloat(e||"0"));this.value=t,H()}));const n=document.getElementById("modeSelect");n?.addEventListener("change",(function(){V(),H()}));[j.CONTACT_NUMBER,j.ADDITIONAL_REFERENCE,j.CUSTOMER_NAME,j.CUSTOMER_EMAIL,j.REDIRECT_URL,j.CALLBACK_URL].forEach((e=>{document.querySelector(e)&&(l.on(e,"blur",(()=>H())),l.on(e,"input",(()=>H())))}));const o=document.getElementById("contactNumberInput");o?.addEventListener("input",(function(){this.value=this.value.replace(/[^0-9]/g,"")}))}initButtonListeners(){const e=document.getElementById("initializePlugin");e?.addEventListener("click",(()=>{wt()}));const t=document.getElementById("copyCodeBtn");t?.addEventListener("click",(async()=>{const e=l.getText("#codePreview");e&&await z(e,{button:t})}))}initToggleListeners(){document.querySelectorAll(".payment-method-toggle").forEach((e=>{e.addEventListener("change",(function(){H()}))})),document.querySelectorAll(".option-toggle").forEach((e=>{e.addEventListener("change",(function(){H()}))})),document.querySelectorAll('input[name="userMode"]').forEach((e=>{e.addEventListener("change",(function(){H()}))})),document.querySelectorAll('input[name="overrideFeePayer"]').forEach((e=>{e.addEventListener("change",(function(){H()}))}))}initEmailListeners(){ht()}initAllListeners(){this.initFormListeners(),this.initButtonListeners(),this.initToggleListeners(),this.initEmailListeners()}}function Ct(e){if(e.ctrlKey&&e.altKey&&e.shiftKey&&("c"===e.key||"C"===e.key)){e.preventDefault();try{sessionStorage.clear(),localStorage.clear(),setTimeout((()=>{try{pe("Storage Cleared","Session and Local Storage cleared successfully.",!0)}catch(e){console.error("[KeyboardShortcuts] Modal error:",e),alert("Storage Cleared - Session and Local Storage cleared successfully.")}}),100)}catch(t){console.error("[KeyboardShortcuts] Error clearing storage:",t);try{fe("Error Clearing Storage","Failed to clear storage.",!1)}catch(n){console.error("[KeyboardShortcuts] Modal error:",n),alert("Error Clearing Storage - Failed to clear storage.")}}}}bt([se("initFormListeners")],Pt.prototype,"initFormListeners"),bt([se("initButtonListeners")],Pt.prototype,"initButtonListeners"),bt([se("initToggleListeners")],Pt.prototype,"initToggleListeners"),bt([se("initEmailListeners")],Pt.prototype,"initEmailListeners"),bt([se("initAllListeners")],Pt.prototype,"initAllListeners");const It=function(e,t,n=!1){if("function"!=typeof e)throw new Error("First argument must be a function");if(!Number.isFinite(t)||t<0)throw new Error("Wait time must be a non-negative number");let o,r=null,i=null;const a=()=>{const t=i,a=o;r=null,(!n&&t||n&&t)&&e.apply(a,t),i=null},s=function(...s){o=this,i=s;const l=n&&!r;r&&clearTimeout(r),r=setTimeout(a,t),l&&e.apply(o,i)};return s.cancel=()=>{r&&clearTimeout(r),r=null,i=null},s.flush=()=>{r&&(clearTimeout(r),r=null,i&&(e.apply(o,i),i=null))},s.pending=()=>null!==r,s}((function(){console.log("[KeyboardShortcuts] ðŸ“‚ Ctrl+Alt+Shift+U pressed - Opening file picker...");const e=document.getElementById("fileInputConfig");e?e.click():console.error("[KeyboardShortcuts] File input element not found (#fileInputConfig)")}),500,!0);function At(e){e.ctrlKey&&e.altKey&&e.shiftKey&&("u"===e.key||"U"===e.key)&&(e.preventDefault(),It())}class Ot extends Error{constructor(e,t,n){super(e),this.operation=t,this.cause=n,this.name="SlicePayDepartureDateError"}}function St(){try{const t=document.getElementById("slicePayDepartureDateModal");if(!t)throw new Error("SlicePay departure date modal not found");const n=document.getElementById("departureDateInput");if(!n)throw new Error("Departure date input not found");const o=function(){const e=new Date,t=new Date(e);return t.setDate(e.getDate()+21),t.toISOString().split("T")[0]??""}();n.value=o,n.min=o;new e.Modal(t).show()}catch(t){throw new Ot("Failed to show departure date modal","showDepartureDateModal",t instanceof Error?t:void 0)}}function Lt(){const t=document.getElementById("allowSlicePayOneOffPayment");t&&(t.checked=!1);const n=document.getElementById("slicePayDepartureDateModal");if(n){const t=e.Modal.getInstance(n);t?.hide()}H()}function Mt(){const t=document.getElementById("slicePayDepartureDateModal");if(t){const n=e.Modal.getInstance(t);n?.hide()}H()}class Tt extends Error{constructor(e,t){super(e),this.cause=t,this.name="ThemeInitializationError"}}const Bt="ZPL",Nt={persistToStorage:!0};function Ft(){try{const e=function(e){if("string"==typeof e){if("light"===e||"dark"===e)return e;try{const t=JSON.parse(e);if("light"===t.theme||"dark"===t.theme)return t.theme}catch{return null}}else if(e&&"object"==typeof e&&"theme"in e){const t=e.theme;if("light"===t||"dark"===t)return t}return null}(Ne(Bt,null,Le));return e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}catch{return"light"}}function Dt(e){try{const{theme:t,persistToStorage:n}={...Nt,...e},o=kt();return document.documentElement.setAttribute("data-bs-theme",t),n&&function(e,t,n=Me){const o=Be(n);if(o)try{const n=T("string"==typeof t?t:L(t));o.setItem(e,n)}catch(r){console.error(`[saveToStorage] Failed to encode base64 for key "${e}":`,r)}}(Bt,{theme:t},Le),function(e){const t=document.getElementById("lightIcon"),n=document.getElementById("darkIcon");"dark"===e?(t?.classList.add("d-none"),n?.classList.remove("d-none")):(n?.classList.add("d-none"),t?.classList.remove("d-none"))}(t),function(e,t,n){const o=new CustomEvent("themechange",{detail:{previousTheme:e,currentTheme:t,source:n}});document.dispatchEvent(o)}(o,t,"user"),o}catch(t){throw new Tt(`Failed to apply theme: ${e.theme}`,t instanceof Error?t:void 0)}}function kt(){const e=document.documentElement.getAttribute("data-bs-theme");return"dark"===e||"light"===e?e:"light"}function zt(e="#themeToggle"){try{const t=document.querySelector(e);if(!t)throw new Tt(`Theme toggle element not found: ${e}`);Dt({theme:Ft()});const n=function(e=!1){const t=window.matchMedia("(prefers-color-scheme: dark)"),n=t=>{const n=t.matches?"dark":"light";e?Dt({theme:n}):Ne(Bt,null,Le)||Dt({theme:n,persistToStorage:!1})};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}(!1),o=()=>{!function(e=!0){const t="dark"===kt()?"light":"dark";Dt({theme:t,persistToStorage:e})}()};return t.addEventListener("click",o),()=>{n(),t.removeEventListener("click",o)}}catch(t){throw new Tt("Failed to initialize theme toggle",t instanceof Error?t:void 0)}}class Ut extends Error{constructor(e,t,n){super(e),this.element=t,this.cause=n,this.name="TooltipInitializationError"}}const xt=new WeakMap;function qt(t,n={}){try{const o={trigger:"hover focus",...n},r=e?.Tooltip?.getInstance?.(t);return r?.dispose?.(),new e.Tooltip(t,o)}catch(o){throw new Ut("Failed to create tooltip instance",t,o instanceof Error?o:void 0)}}function Vt(t={}){try{const o=Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]')),r=[];for(const e of o)try{const n=qt(e,t);r.push(n)}catch(n){console.error("[initTooltips] Failed for element:",e,n)}return document.querySelectorAll('[data-bs-toggle="popover"]').forEach((t=>{try{const n=e?.Popover?.getInstance?.(t);n?.dispose?.(),new e.Popover(t)}catch(n){console.error("[initTooltips] Failed to initialize popover:",t,n)}})),document.querySelectorAll(".collapse").forEach((o=>{const r=xt.get(o);r&&o.removeEventListener("shown.bs.collapse",r);const i=()=>{try{o.querySelectorAll('[data-bs-toggle="tooltip"]').forEach((t=>{e?.Tooltip?.getInstance?.(t)?.dispose?.()})),o.querySelectorAll('[data-bs-toggle="tooltip"]').forEach((e=>{try{qt(e,t)}catch(n){console.error("[initTooltips] Reinit in collapse failed:",e,n)}}))}catch(n){console.error("[initTooltips] Collapse handler error:",n)}};o.addEventListener("shown.bs.collapse",i),xt.set(o,i)})),console.log(`[initTooltips] Initialized ${r.length} tooltips`),r}catch(o){throw console.error("[initTooltips] Error during tooltip initialization:",o),new Ut("Failed to initialize tooltips",void 0,o instanceof Error?o:void 0)}}class Rt{constructor(e){this.isOpen=!1,this.selectedValue=null,this.config={...e,size:e.size||"rectangle",maxColumns:e.maxColumns||4,onSelect:e.onSelect||(()=>{}),initialValue:e.initialValue??null};const t=document.getElementById(this.config.buttonId),n=document.getElementById(this.config.dropdownId);if(!t||!n)throw console.error(`[CoreDropdown] Elements not found - button: ${this.config.buttonId}, dropdown: ${this.config.dropdownId}`),new Error("CoreDropdown: Required DOM elements not found");this.button=t,this.dropdown=n,this.init()}init(){this.dropdown.classList.add("core-dropdown-content"),this.buildOptions(),this.setupEventListeners(),this.config.initialValue&&this.setSelectedValue(this.config.initialValue,!1),console.log(`[CoreDropdown] Initialized: ${this.config.buttonId}`)}buildOptions(){this.dropdown.innerHTML="";const e=document.createElement("div");e.className="core-dropdown-grid",e.dataset.size=this.config.size,e.dataset.maxColumns=String(this.config.maxColumns),this.config.options.forEach((t=>{const n=this.createOptionButton(t);e.appendChild(n)})),this.dropdown.appendChild(e)}createOptionButton(e){const t=document.createElement("div");t.className="core-dropdown-option",t.dataset.value=e.value,t.dataset.size=this.config.size;const n=document.createElement("div");n.className="core-dropdown-option-title",n.textContent=e.title;const o=document.createElement("div");o.className="core-dropdown-option-icon";const r=document.createElement("i");r.className=`bi ${e.icon}`,e.iconColor&&(r.style.color=e.iconColor),o.appendChild(r);const i=document.createElement("div");return i.className="core-dropdown-option-subtitle",i.textContent=e.subtitle,t.appendChild(n),t.appendChild(o),t.appendChild(i),t}setupEventListeners(){this.button.addEventListener("click",(e=>{e.stopPropagation(),this.toggle()})),this.dropdown.addEventListener("click",(e=>{const t=e.target.closest(".core-dropdown-option");t&&t.dataset.value&&(e.stopPropagation(),this.selectOption(t.dataset.value))})),document.addEventListener("click",(e=>{const t=e.target;this.button.contains(t)||this.dropdown.contains(t)||this.close()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.isOpen&&this.close()}))}toggle(){this.isOpen?this.close():this.open()}open(){this.dropdown.classList.add("show"),this.isOpen=!0;const e=this.button.querySelector("i.bi-chevron-down, i.bi-chevron-up");e&&(e.classList.remove("bi-chevron-down"),e.classList.add("bi-chevron-up")),console.log(`[CoreDropdown] Opened: ${this.config.buttonId}`)}close(){this.dropdown.classList.remove("show"),this.isOpen=!1;const e=this.button.querySelector("i.bi-chevron-down, i.bi-chevron-up");e&&(e.classList.remove("bi-chevron-up"),e.classList.add("bi-chevron-down"))}selectOption(e){this.setSelectedValue(e,!0),this.close()}setSelectedValue(e,t){const n=this.config.options.find((t=>t.value===e));if(!n)return void console.warn(`[CoreDropdown] Option not found: ${e}`);this.selectedValue=e;this.dropdown.querySelectorAll(".core-dropdown-option").forEach((t=>{t.dataset.value===e?t.classList.add("selected"):t.classList.remove("selected")}));const o=this.button.querySelector("[data-dropdown-text]");o&&(o.textContent=n.title),t&&this.config.onSelect&&this.config.onSelect(e,n),console.log(`[CoreDropdown] Selected: ${e} (${n.title})`)}getSelectedValue(){return this.selectedValue}getSelectedOption(){return this.selectedValue&&this.config.options.find((e=>e.value===this.selectedValue))||null}setValue(e){this.setSelectedValue(e,!1)}updateOptions(e){this.config.options=e,this.buildOptions(),this.setupEventListeners()}destroy(){this.dropdown.innerHTML="",this.dropdown.classList.remove("show","core-dropdown-content"),console.log(`[CoreDropdown] Destroyed: ${this.config.buttonId}`)}}const Ht=[{value:"0",title:"Standard Modal",icon:"bi-window",subtitle:"jQuery modal flow (default)"},{value:"1",title:"Redirect URL",icon:"bi-box-arrow-up-right",subtitle:"Returns URL for integration"}];const Kt=[{value:"0",title:"Make Payment",icon:"bi-credit-card",subtitle:"Process immediate payment"},{value:"1",title:"Tokenise",icon:"bi-key",subtitle:"Save card for future use"},{value:"2",title:"Custom Payment",icon:"bi-gear",subtitle:"Custom parameters"},{value:"3",title:"Preauthorization",icon:"bi-lock",subtitle:"Reserve funds, capture later"}];const jt=[{value:"0",title:"Customer Facing",icon:"bi-person",subtitle:"Requires CCV/3DS (Default)"},{value:"1",title:"Merchant Facing",icon:"bi-building",subtitle:"No CCV/3DS required"}];const Jt=[{value:"0",title:"Default",icon:"bi-arrow-clockwise",subtitle:"Use pricing profile setting"},{value:"1",title:"Merchant Pays",icon:"bi-building",subtitle:"Merchant absorbs all fees"},{value:"2",title:"Customer Pays",icon:"bi-person",subtitle:"Customer pays all fees"}];async function Yt(){try{Vt(),function(){try{const t=document.querySelectorAll('input[type="text"], input[type="email"], input[type="url"], input[type="number"], textarea');let n=0;t.forEach((t=>{if(t.hasAttribute("data-bs-toggle")||t.disabled)return;let o=null,r=!1;t.addEventListener("mouseenter",(function(){if(this.value&&(t=this).scrollWidth>t.clientWidth&&!r)try{o&&(o.dispose(),o=null),this.setAttribute("data-bs-original-title",this.value),this.setAttribute("title",this.value),o=new e.Tooltip(this,{trigger:"hover",placement:"top",container:"body",animation:!0}),o.show(),r=!0}catch(n){console.warn("[initTruncationTooltips] Error showing tooltip:",n)}var t})),t.addEventListener("mouseleave",(function(){if(o&&r)try{o.hide(),setTimeout((()=>{o&&(o.dispose(),o=null),r=!1,this.removeAttribute("data-bs-original-title"),this.removeAttribute("title")}),200)}catch(e){console.warn("[initTruncationTooltips] Error hiding tooltip:",e)}})),n++})),console.log(`[initTruncationTooltips] Initialized truncation detection for ${n} fields`)}catch(t){console.error("[initTruncationTooltips] Error initializing truncation tooltips:",t)}}();(new Pt).initAllListeners(),function(e=Qe){try{const t=document.getElementById("fileInputConfig");t&&t.addEventListener("change",(async n=>{const o=n.target.files;if(!o||0===o.length)return void console.log("[FileInput] No file selected");const r=o[0];r&&(console.log(`[FileInput] ðŸ“„ Processing file: ${r.name} (${(r.size/1024).toFixed(2)}KB)`),await _e(r,e),t.value="",console.log("[FileInput] âœ… File input reset, ready for next import"))}));const n=document.getElementById("browseConfigBtn");n&&n.addEventListener("click",(()=>{try{const t=document.createElement("input");t.type="file",t.accept=e.accept||Qe.accept,t.multiple=e.multiple||!1,t.addEventListener("change",(async t=>{const n=t.target.files;if(!n||0===n.length)return;const o=n[0];o&&await _e(o,e)})),t.click()}catch(t){console.error("[initFileInputListener] Error creating file input:",t),fe("File Input Error","Failed to create file input dialog")}})),console.log("[initFileInputListener] File input listener initialized successfully")}catch(t){throw new We("Failed to initialize file input listener","read",void 0,t instanceof Error?t:void 0)}}(),document.addEventListener("keydown",Ct),document.addEventListener("keydown",At),console.log("[KeyboardShortcuts] âŒ¨ï¸  Initialized:"),console.log("  â€¢ Ctrl+Alt+Shift+C - Clear session and local storage"),console.log("  â€¢ Ctrl+Alt+Shift+U - Upload/Import JSON config file"),ht(),function(){try{new Rt({buttonId:"displayModeButton",dropdownId:"displayModeDropdown",size:"rectangle",maxColumns:2,options:Ht,initialValue:"0",onSelect:(e,t)=>{console.log(`[DisplayMode] Selected: ${e} - ${t.title}`);const n=document.getElementById("selectDisplayModeModal"),o=document.getElementById("selectDisplayModeRedirect");n&&o&&(n.checked="0"===e,o.checked="1"===e),H()}}),console.log("[DisplayMode] Dropdown initialized successfully")}catch(e){console.error("[DisplayMode] Failed to initialize dropdown:",e)}}(),function(){try{new Rt({buttonId:"paymentModeButton",dropdownId:"paymentModeDropdown",size:"rectangle",maxColumns:2,options:Kt,initialValue:"0",onSelect:(e,t)=>{console.log(`[PaymentMode] Selected: ${e} - ${t.title}`);const n=document.getElementById("modeSelect");n&&(n.value=e),V(),H()}}),console.log("[PaymentMode] Dropdown initialized successfully")}catch(e){console.error("[PaymentMode] Failed to initialize dropdown:",e)}}(),new Rt({buttonId:"userModeButton",dropdownId:"userModeDropdown",options:jt,size:"rectangle",maxColumns:2,initialValue:"0",onSelect:(e,t)=>{const n=document.getElementById("selectUserModeCustomer"),o=document.getElementById("selectUserModeMerchant");"0"===e&&n?n.checked=!0:"1"===e&&o&&(o.checked=!0),H(),console.log(`[UserMode] Selected: ${e} - ${t.title}`)}}),new Rt({buttonId:"overrideFeePayerButton",dropdownId:"overrideFeePayerDropdown",options:Jt,size:"rectangle",maxColumns:3,initialValue:"0",onSelect:(e,t)=>{const n=document.getElementById("overrideFeePayerDefault"),o=document.getElementById("overrideFeePayerMerchant"),r=document.getElementById("overrideFeePayerCustomer");"0"===e&&n?n.checked=!0:"1"===e&&o?o.checked=!0:"2"===e&&r&&(r.checked=!0),H(),console.log(`[OverrideFeePayer] Selected: ${e} - ${t.title}`)}}),zt(),qe(!0),function(e={}){try{const t={...Re,...e};t.generateCustomerData&&je(),t.setupEventListeners&&Je(),t.updateRedirectUrl&&ze(),console.log("[initExtendedOptions] Extended options initialization completed successfully")}catch(t){throw new Ve("Failed to initialize extended options","setup",t instanceof Error?t:void 0)}}({generateCustomerData:!1}),function(e=J){try{const t=e.join(", ");document.querySelectorAll(t).forEach((e=>{if(!W(e))return;const t=e.getAttribute("placeholder")||"";e.dataset[X]||(e.dataset[X]=t),e.setAttribute("placeholder",e.dataset[X]||"")}))}catch(t){throw new K("Failed to initialize basic placeholder functionality",e.join(", "),t instanceof Error?t:void 0)}}(),_(),function(){try{const e=document.getElementById("paymentAmountInput");e&&!e.value&&(e.placeholder=k(10,1e3));const t=document.getElementById("merchantUniquePaymentIdInput");t&&!t.value&&(t.placeholder=crypto.randomUUID());const n=document.getElementById("customerReferenceInput");n&&!n.value&&(n.placeholder=crypto.randomUUID());const o=document.getElementById("customerNameInput"),r=document.getElementById("customerEmailInput");if(o&&!o.value){const e=N();o.placeholder=e.fullName,r&&!r.value&&(r.placeholder=F(e.firstName))}const i=document.getElementById("contactNumberInput");i&&!i.value&&(i.placeholder=D());const a=document.getElementById("additionalReferenceInput");a&&!a.value&&(a.placeholder=crypto.randomUUID()),console.log("[initAutoGeneratedPlaceholders] Auto-generated placeholders initialized")}catch(e){console.error("[initAutoGeneratedPlaceholders] Error initializing placeholders:",e)}}();const t=function(){if(!ye)return null;const e=ye.getItem(we);if(!e)return null;try{return M(B(e))}catch(t){return console.error("[loadCredentials] Failed to decode credentials:",t),null}}();if(t){const e=document.getElementById("apiKeyInput"),n=document.getElementById("usernameInput"),o=document.getElementById("passwordInput"),r=document.getElementById("merchantCodeInput");e&&(e.value=t.apiKey),r&&(r.value=t.merchantCode),n&&t.username&&Pe(n,t.username),o&&t.password&&Pe(o,t.password),n?.addEventListener("focus",(()=>Ce(n))),n?.addEventListener("blur",(()=>Ie(n))),o?.addEventListener("focus",(()=>Ce(o))),o?.addEventListener("blur",(()=>Ie(o)))}const n=function(){if(!ye)return null;const e=ye.getItem(Ee);if(!e)return null;try{return M(B(e))}catch(t){return console.error("[loadState] Failed to decode state:",t),null}}();if(n){const e=document.getElementById("callbackUrlInput");e&&(e.value=n.callbackUrl);const t=document.getElementById("modeSelect");t&&n.mode&&(t.value=n.mode);const o=document.getElementById("departureDateInput");o&&n.departureDate&&(o.value=n.departureDate);const r=(e,t)=>{const n=document.getElementById(e);n&&(n.checked=t)};if(Object.assign(a,n.paymentMethods),r("allowBankAcOneOffPayment",n.paymentMethods.allowBankAcOneOffPayment),r("allowPayToOneOffPayment",n.paymentMethods.allowPayToOneOffPayment),r("allowPayIdOneOffPayment",n.paymentMethods.allowPayIdOneOffPayment),r("allowApplePayOneOffPayment",n.paymentMethods.allowApplePayOneOffPayment),r("allowGooglePayOneOffPayment",n.paymentMethods.allowGooglePayOneOffPayment),r("allowSlicePayOneOffPayment",n.paymentMethods.allowSlicePayOneOffPayment),r("allowSaveCardUserOption",n.paymentMethods.allowSaveCardUserOption),n.options){r("sendConfirmationEmailToCustomer",n.options.sendConfirmationEmailToCustomer),r("sendConfirmationEmailToMerchant",n.options.sendConfirmationEmailToMerchant),r("hideTermsAndConditions",n.options.hideTermsAndConditions),r("hideMerchantLogo",n.options.hideMerchantLogo),r("showFeeOnTokenising",n.options.showFeeOnTokenising),r("showFailedPaymentFeeOnTokenising",n.options.showFailedPaymentFeeOnTokenising);const e=document.querySelector(`input[name="userMode"][value="${n.options.userMode}"]`);e&&(e.checked=!0);const t=document.querySelector(`input[name="overrideFeePayer"][value="${n.options.overrideFeePayer}"]`);t&&(t.checked=!0)}console.log("[initializeApp] Payment state restored from session storage")}V(),H(),Xe(),ge("#downloadDemoBtn"),at(),ct(),pt(),function(){try{const e=document.getElementById("allowSlicePayOneOffPayment");if(!e)return void console.warn("[initSlicePayDepartureDate] SlicePay checkbox not found");const t=document.getElementById("slicePayDepartureDateModal"),n=document.getElementById("slicePayCancelBtn"),o=document.getElementById("slicePayConfirmBtn");if(!t||!n||!o)return void console.warn("[initSlicePayDepartureDate] Modal elements not found");e.addEventListener("change",(function(){if(this.checked)St();else{const e=document.getElementById("departureDateInput");e&&(e.value=""),H()}})),n.addEventListener("click",Lt),o.addEventListener("click",Mt),t.addEventListener("hidden.bs.modal",(()=>{if(e.checked){const t=document.getElementById("departureDateInput");t?.value||(e.checked=!1,H())}})),console.log("[initSlicePayDepartureDate] SlicePay departure date functionality initialized")}catch(e){throw console.error("[initSlicePayDepartureDate] Error initializing:",e),new Ot("Failed to initialize SlicePay departure date functionality","initSlicePayDepartureDate",e instanceof Error?e:void 0)}}(),window.showParameterModal=dt,console.log("[main] Application initialization completed successfully")}catch(t){throw console.error("[main] Error during application initialization:",t),new Error(`Application initialization failed: ${t instanceof Error?t.message:"Unknown error"}`)}}document.addEventListener("DOMContentLoaded",(()=>{Yt().catch((e=>{console.error("[main] Failed to initialize application:",e)}))})),window.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("logo-img");e&&(e.src="data:image/png;base64,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")}));

</script>

<script>
// Inline data files to avoid fetch errors
window.__ZENPAY_DATA__ = {
  inputParameters: [
  {
    "name": "url",
    "type": "string",
    "conditional": "Required",
    "remarks": "Plugin access url. We strongly recommend v5 integration."
  },
  {
    "name": "merchantCode",
    "type": "string",
    "conditional": "Required",
    "remarks": "As provided by Zenith."
  },
  {
    "name": "apiKey",
    "type": "string",
    "conditional": "Required",
    "remarks": "As provided by Zenith"
  },
  {
    "name": "fingerprint",
    "type": "string",
    "conditional": "Required",
    "remarks": "The Fingerprint is a SHA3-512 (v5), SHA512 (v4) or SHA1 hash (v3) of the fields in the following order with a pipe (|) as a separator. Credentials provided by Zenith Payments are case sensitive. apiKey|userName|password|mode|paymentAmount|merchantUniquePaymentId|timestamp apiKey: refer apiKey parameter userName: provided by Zenith Payments password: provided by Zenith Payments mode: refer mode parameter paymentAmount: provide payment amount in cents without symbol. e.g. for $150.53 pass 15053. Pass 0 when mode is 2. merchantUniquePaymentId: refer merchantUniquePaymentId parameter timestamp: : provide current datetime in UTC ISO 8601 format as timestamp. format: yyyy-MM-ddTHH:mm:ss SHA3-512 (applicable for v5) - To generate fingerprint for this page you can use online SHA3-512 generator>. SHA512 (applicable for v4) - To generate fingerprint for this page you can use online SHA512 generator. SHA1 (applicable for v3) - To generate fingerprint for this page you can use online SHA1 generator. For methods of generating a SHA1 hash (applicable for v3) in your language refer this web site."
  },
  {
    "name": "redirectUrl",
    "type": "string",
    "conditional": "Required",
    "remarks": "The page will redirect to this URL with the result in the query string. Refer the return parameters section below."
  },
  {
    "name": "mode",
    "type": "int",
    "conditional": "Optional",
    "remarks": "Must be one of the following three values 0 - Make Payment 1 - Tokenise 2 - Custom Payment 3 - Preauthorization Defaults to 0 if not provided."
  },
  {
    "name": "displayMode",
    "type": "int",
    "conditional": "Optional",
    "remarks": "Must be one of the following two values 0 - Default (Modal) 1 - Redirect Url Defaults to 0 if not provided. *Google Pay and Apple Pay works if Modal or Redirect Url with iframe is used."
  },
  {
    "name": "customerName",
    "type": "string",
    "conditional": "Conditional",
    "remarks": "Required if mode is set to 0 or 2."
  },
  {
    "name": "CustomerNameLabel",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Custom label to override default customer name display text"
  },
  {
    "name": "customerReference",
    "type": "string",
    "conditional": "Conditional",
    "remarks": "Required if mode is set to 0 or 2."
  },
  {
    "name": "CustomerReferenceLabel",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Custom label to override default customer reference display text"
  },
  {
    "name": "paymentAmount",
    "type": "number",
    "conditional": "Conditional",
    "remarks": "Required if mode is set to 0 or 2. Returns applicable fee if provided with mode 1."
  },
  {
    "name": "PaymentAmountLabel",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Custom label to override default payment amount display text"
  },
  {
    "name": "allowBankAcOneOffPayment",
    "type": "boolean(true/false)",
    "conditional": "Conditional",
    "remarks": "Required if mode is set to 0 or 2. Show bank account option only if the option is enable for the merchant. Default is false."
  },
  {
    "name": "allowPayToOneOffPayment",
    "type": "boolean(true/false)",
    "conditional": "Conditional",
    "remarks": "Required if mode is set to 0 or 2. Show PayTo bank account option only if the option is enable for the merchant. Default is false."
  },
  {
    "name": "allowPayIdOneOffPayment",
    "type": "boolean(true/false)",
    "conditional": "Conditional",
    "remarks": "Required if mode is set to 0 or 2. Show PayID option only if the option is enable for the merchant. Default is false."
  },
  {
    "name": "allowApplePayOneOffPayment",
    "type": "boolean(true/false)",
    "conditional": "Conditional",
    "remarks": "Conditional if mode is set to 0. Show Apple Pay option only if the option is enable for the merchant. Default is false."
  },
  {
    "name": "allowGooglePayOneOffPayment",
    "type": "boolean(true/false)",
    "conditional": "Conditional",
    "remarks": "Conditional if mode is set to 0. Show Google Pay option only if the option is enable for the merchant. Default is false."
  },
  {
    "name": "allowLatitudePayOneOffPayment",
    "type": "boolean(true/false)",
    "conditional": "Conditional",
    "remarks": "Conditional if mode is set to 0. Show Latitude Pay option only if the option is enable for the merchant. Default is false."
  },
  {
    "name": "allowSlicePayOneOffPayment",
    "type": "boolean(true/false)",
    "conditional": "Conditional",
    "remarks": "Conditional if mode is set to 0. Show Slice Pay option only if the option is enable for the merchant. Default is false."
  },
  {
    "name": "allowUnionPayOneOffPayment",
    "type": "boolean(true/false)",
    "conditional": "Conditional",
    "remarks": "Conditional if mode is set to 0. Show UnionPay option only if the option is enable for the merchant. Default is false."
  },
  {
    "name": "showFeeOnTokenising",
    "type": "boolean(true/false)",
    "conditional": "Conditional",
    "remarks": "Required if mode is set to 1. Show the applicable fees for the token at the end of the process. Default is false."
  },
  {
    "name": "showFailedPaymentFeeOnTokenising",
    "type": "boolean(true/false)",
    "conditional": "Conditional",
    "remarks": "Optional if mode is set to 1. Show the applicable failed payment fees for the token at the end of the process. Default is false."
  },
  {
    "name": "merchantUniquePaymentId",
    "type": "string",
    "conditional": "Required",
    "remarks": "Payment id provided by the merchant. Must be unique and can not be reused if a transaction is processed using this id."
  },
  {
    "name": "timestamp",
    "type": "string",
    "conditional": "Conditional",
    "remarks": "timestamp is required for v4 and optional for v3. Provide current datetime in UTC ISO 8601 format as timestamp. format: yyyy-MM-ddTHH:mm:ss"
  },
  {
    "name": "cardProxy",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Use this parameter to make a payment using a card proxy which is generated using mode '1'."
  },
  {
    "name": "callbackUrl",
    "type": "string",
    "conditional": "Optional",
    "remarks": "The URL will be called with HTTP POST method to submit the result. Refer the return parameters section below."
  },
  {
    "name": "hideTermsAndConditions",
    "type": "boolean(true/false)",
    "conditional": "Optional",
    "remarks": "This will hide the Terms and Conditions. Defaults to 'false' if not provided."
  },
  {
    "name": "sendConfirmationEmailToMerchant",
    "type": "boolean(true/false)",
    "conditional": "Optional",
    "remarks": "This will send confirmation email to merchant. Defaults to 'false' if not provided."
  },
  {
    "name": "additionalReference",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Additional reference to identify customer. This will be passed on to the merchant reconciliation file (PDF & CSV)"
  },
  {
    "name": "contactNumber",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Contact number"
  },
  {
    "name": "customerEmail",
    "type": "string",
    "conditional": "Conditional",
    "remarks": "Email address to which invoice will be emailed if the merchant is configured. It is mandatory in V4."
  },
  {
    "name": "",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Australian Business Number. Used for reward programs if the Program is enabled to provide reward points."
  },
  {
    "name": "companyName",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Customer company name."
  },
  {
    "name": "title",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Plugin Title. Defaults to 'Process Payment' if not provided."
  },
  {
    "name": "hideHeader",
    "type": "boolean(true/false)",
    "conditional": "Optional",
    "remarks": "This will hide the program header including program logo. Defaults to 'true' if not provided."
  },
  {
    "name": "hideMerchantLogo",
    "type": "boolean(true/false)",
    "conditional": "Optional",
    "remarks": "This will hide the merchant logo if any. Defaults to 'false' if not provided."
  },
  {
    "name": "overrideFeePayer",
    "type": "int",
    "conditional": "Optional",
    "remarks": "Must be one of the following three values 0 - Default (based on pricing profile)1 - Merchant (Merchant will pay the fee regardless of pricing profile setting)2 - Customer (Customer will pay the fee regardless of pricing profile setting) Defaults to 0 if not provided."
  },
  {
    "name": "departureDate",
    "type": "string",
    "conditional": "Optional",
    "remarks": "departureDate is required for Slice Pay. Provide date in UTC ISO 8601 format as departureDate. format: yyyy-MM-dd"
  },
  {
    "name": "userMode",
    "type": "int",
    "conditional": "Optional",
    "remarks": "Must be one of the following two values 0 - Customer Facing - default (cardholder must enter CCV or 3DS)1 - Merchant Facing (for merchant use only - no CCV or 3DS) - if supported by merchant options."
  },
  {
    "name": "minHeight",
    "type": "int",
    "conditional": "Optional",
    "remarks": "For Mode 0 and 2 height defaults to 725px, for mode 1 height defaults to 450px if not provided."
  },
  {
    "name": "onPluginClose",
    "type": "function",
    "conditional": "Optional",
    "remarks": "Javascript callback function to execute when plug-in is closed."
  },
  {
    "name": "sendConfirmationEmailToCustomer",
    "type": "boolean(true/false)",
    "conditional": "Optional",
    "remarks": "This will send confirmation email to customer. Defaults to 'false' if not provided."
  },
  {
    "name": "allowSaveCardUserOption",
    "type": "boolean(true/false)",
    "conditional": "Optional",
    "remarks": "This will allow to save the card information. Defaults to 'false' if not provided. This option will only work if 'Enable Plugin Pay & Save Card' option is enabled at program or merchant level."
  },
  {
    "name": "sku1",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Stock Keeping Unit â€“ Optional text fields, allowing up to 50 alphanumeric characters. If the value exceeds 50 characters, only the first 50 characters will be retained and the rest discarded."
  },
  {
    "name": "sku2",
    "type": "string",
    "conditional": "Optional",
    "remarks": "Stock Keeping Unit â€“ Optional text fields, allowing up to 50 alphanumeric characters. If the value exceeds 50 characters, only the first 50 characters will be retained and the rest discarded."
  }
],
  outputParameters: {
  "mode02": [
    {
      "parameter": "CustomerName",
      "value": "Same as input parameter."
    },
    {
      "parameter": "CustomerReference",
      "value": "Same as input parameter."
    },
    {
      "parameter": "MerchantUniquePaymentId",
      "value": "Same as input parameter."
    },
    {
      "parameter": "AccountOrCardNo",
      "value": "Account or card number used to process payment."
    },
    {
      "parameter": "PaymentReference",
      "value": "Payment reference. (applicable for Payment)"
    },
    {
      "parameter": "PreauthReference",
      "value": "Preauthorization reference. (applicable for Preauthorization)"
    },
    {
      "parameter": "ProcessorReference",
      "value": "Processor reference."
    },
    {
      "parameter": "PaymentStatus",
      "value": "Possiible values 0 => (Pending) 1 => (Error) 3 => (Successful) 4 => (Failed) 5 => (Cancelled) 6 => (Suppressed) 7 => (InProgress)"
    },
    {
      "parameter": "PaymentStatusString",
      "value": "Possiible values Pending Error Successful Failed Cancelled Suppressed InProgress"
    },
    {
      "parameter": "PreauthStatus",
      "value": "Possiible values 0 => (Pending) 1 => (Error) 3 => (Successful) 4 => (Failed) 5 => (Cancelled) 6 => (Suppressed) 7 => (InProgress)"
    },
    {
      "parameter": "PreauthStatusString",
      "value": "Possiible values Pending Error Successful Failed Cancelled Suppressed InProgress"
    },
    {
      "parameter": "TransactionSource",
      "value": "Possiible values36 => (Public_OnlineOneOffPayment)"
    },
    {
      "parameter": "TransactionSourceString",
      "value": "Possiible values Public_OnlineOneOffPayment"
    },
    {
      "parameter": "ProcessingDate",
      "value": "The date and time when the payment is processed. format: yyyy-MM-ddTHH:mm:ss"
    },
    {
      "parameter": "SettlementDate",
      "value": "The date when the payment is settled to the merchant. format: yyyy-MM-dd"
    },
    {
      "parameter": "IsPaymentSettledToMerchant",
      "value": "Flag to indicate whetehr the funds are settled to the merchant or not."
    },
    {
      "parameter": "BaseAmount",
      "value": "Same as payment amount."
    },
    {
      "parameter": "CustomerFee",
      "value": "Fee charged to the the customer to process the payment."
    },
    {
      "parameter": "ProcessedAmount",
      "value": "Base amount + Customer fee. (applicable for Payment)"
    },
    {
      "parameter": "PreauthAmount",
      "value": "Base amount + Customer fee. (applicable for Preauthorization)"
    },
    {
      "parameter": "FundsToMerchant",
      "value": "Base amount - Merchant fee, if applicable."
    },
    {
      "parameter": "MerchantCode",
      "value": "Merchant code."
    },
    {
      "parameter": "FailureCode",
      "value": "Populated only when payment is not successful."
    },
    {
      "parameter": "FailureReason",
      "value": "Populated only when payment is not successful."
    },
    {
      "parameter": "Token",
      "value": "Returned only if payment is processed using cardProxy input parameter. The value will be same as cardProxy."
    },
    {
      "parameter": "PayId",
      "value": "Returned only if payment is processed using PayID."
    },
    {
      "parameter": "PayIdName",
      "value": "Returned only if payment is processed using PayID. Display name for the PayID"
    }
  ],
  "mode1": [],
  "combined": [
    {
      "parameter": "CustomerName",
      "value": "Same as input parameter."
    },
    {
      "parameter": "CustomerReference",
      "value": "Same as input parameter."
    },
    {
      "parameter": "MerchantUniquePaymentId",
      "value": "Same as input parameter."
    },
    {
      "parameter": "AccountOrCardNo",
      "value": "Account or card number used to process payment."
    },
    {
      "parameter": "PaymentReference",
      "value": "Payment reference. (applicable for Payment)"
    },
    {
      "parameter": "PreauthReference",
      "value": "Preauthorization reference. (applicable for Preauthorization)"
    },
    {
      "parameter": "ProcessorReference",
      "value": "Processor reference."
    },
    {
      "parameter": "PaymentStatus",
      "value": "Possiible values 0 => (Pending) 1 => (Error) 3 => (Successful) 4 => (Failed) 5 => (Cancelled) 6 => (Suppressed) 7 => (InProgress)"
    },
    {
      "parameter": "PaymentStatusString",
      "value": "Possiible values Pending Error Successful Failed Cancelled Suppressed InProgress"
    },
    {
      "parameter": "PreauthStatus",
      "value": "Possiible values 0 => (Pending) 1 => (Error) 3 => (Successful) 4 => (Failed) 5 => (Cancelled) 6 => (Suppressed) 7 => (InProgress)"
    },
    {
      "parameter": "PreauthStatusString",
      "value": "Possiible values Pending Error Successful Failed Cancelled Suppressed InProgress"
    },
    {
      "parameter": "TransactionSource",
      "value": "Possiible values36 => (Public_OnlineOneOffPayment)"
    },
    {
      "parameter": "TransactionSourceString",
      "value": "Possiible values Public_OnlineOneOffPayment"
    },
    {
      "parameter": "ProcessingDate",
      "value": "The date and time when the payment is processed. format: yyyy-MM-ddTHH:mm:ss"
    },
    {
      "parameter": "SettlementDate",
      "value": "The date when the payment is settled to the merchant. format: yyyy-MM-dd"
    },
    {
      "parameter": "IsPaymentSettledToMerchant",
      "value": "Flag to indicate whetehr the funds are settled to the merchant or not."
    },
    {
      "parameter": "BaseAmount",
      "value": "Same as payment amount."
    },
    {
      "parameter": "CustomerFee",
      "value": "Fee charged to the the customer to process the payment."
    },
    {
      "parameter": "ProcessedAmount",
      "value": "Base amount + Customer fee. (applicable for Payment)"
    },
    {
      "parameter": "PreauthAmount",
      "value": "Base amount + Customer fee. (applicable for Preauthorization)"
    },
    {
      "parameter": "FundsToMerchant",
      "value": "Base amount - Merchant fee, if applicable."
    },
    {
      "parameter": "MerchantCode",
      "value": "Merchant code."
    },
    {
      "parameter": "FailureCode",
      "value": "Populated only when payment is not successful."
    },
    {
      "parameter": "FailureReason",
      "value": "Populated only when payment is not successful."
    },
    {
      "parameter": "Token",
      "value": "Returned only if payment is processed using cardProxy input parameter. The value will be same as cardProxy."
    },
    {
      "parameter": "PayId",
      "value": "Returned only if payment is processed using PayID."
    },
    {
      "parameter": "PayIdName",
      "value": "Returned only if payment is processed using PayID. Display name for the PayID"
    }
  ]
},
  errorCodes: [
  {
    "code": "E01",
    "description": "Make sure fingerprint and apikey are passed."
  },
  {
    "code": "E02-*",
    "description": "MerchantUniquePaymentId cannot be empty."
  },
  {
    "code": "E03-*",
    "description": "The fingerprint should be unique everytime. This can be achieved by using new MerchantUniquePaymentId and current Timestamp everytime the plugin is opened."
  },
  {
    "code": "E04",
    "description": "Invalid Credentials. Applicable for V1 and V2(V1 and V2 are deprecated)."
  },
  {
    "code": "E05",
    "description": "Make sure fingerprint and apikey are passed."
  },
  {
    "code": "E06",
    "description": "Account is not active. Contact administrator."
  },
  {
    "code": "E07",
    "description": "Provided endpoint is not supported."
  },
  {
    "code": "E08",
    "description": "Invalid Credentials. Make sure fingerprint is correctly generated, refer to fingerprint generation logic."
  },
  {
    "code": "E09",
    "description": "Security violation. Close and open the plugin with fresh fingerprint."
  },
  {
    "code": "E10",
    "description": "Security violation. Close and open the plugin with fresh fingerprint."
  },
  {
    "code": "E11",
    "description": "Timestamp cannot be empty. Make sure to pass same timestamp as in generated fingerprint."
  },
  {
    "code": "E13",
    "description": "MerchantCode provided does not match with the provided credentials."
  },
  {
    "code": "E14",
    "description": "Security violation. Close and open the plugin with fresh fingerprint."
  },
  {
    "code": "E15",
    "description": "MerchantCode cannot be empty(V4 onwards)."
  },
  {
    "code": "E16",
    "description": "Version can not be empty."
  },
  {
    "code": "E17",
    "description": "CustomerEmail can not be empty(V4 onwards)."
  },
  {
    "code": "E18",
    "description": "DepartureDate is required for Slice Pay."
  },
  {
    "code": "E19",
    "description": "Invalid Timestamp. Timestamp needs to be in UTC ISO 8601 format."
  }
]
};

// Intercept fetch calls to return inlined data
const originalFetch = window.fetch;
window.fetch = function(url, options) {
  if (url === '/public/jq-input-parameters.json') {
    return Promise.resolve(new Response(JSON.stringify(window.__ZENPAY_DATA__.inputParameters), {
      status: 200,
      headers: { 'Content-Type': 'application/json' }
    }));
  }
  if (url === '/public/jq-output-parameters.json') {
    return Promise.resolve(new Response(JSON.stringify(window.__ZENPAY_DATA__.outputParameters), {
      status: 200,
      headers: { 'Content-Type': 'application/json' }
    }));
  }
  if (url === '/public/jq-error-codes.json') {
    return Promise.resolve(new Response(JSON.stringify(window.__ZENPAY_DATA__.errorCodes), {
      status: 200,
      headers: { 'Content-Type': 'application/json' }
    }));
  }
  return originalFetch.apply(this, arguments);
};

document.addEventListener('DOMContentLoaded', function() {
  // Pre-fill credentials
  const apiKeyField = document.getElementById('apiKeyInput');
  if (apiKeyField) apiKeyField.value = "testkey";

  const usernameField = document.getElementById('usernameInput');
  if (usernameField) usernameField.value = "testuser";

  const passwordField = document.getElementById('passwordInput');
  if (passwordField) passwordField.value = "testpass";

  const merchantCodeField = document.getElementById('merchantCodeInput');
  if (merchantCodeField) merchantCodeField.value = "TEST123";

  console.log('ZenPay standalone configuration loaded successfully');
});
</script>
</body>
</html>
